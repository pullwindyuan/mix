(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1c623d61"],{"2b4e":function(t,e,a){"use strict";a("67fe")},"67fe":function(t,e,a){},"8b28":function(t,e,a){"use strict";e["a"]={data:function(){return{queryData:{current:1,size:30},data:[],total:0}},methods:{submitTap:function(t){this.queryData.current=1,this.queryTap(t)},pageChange:function(t){this.queryData.current=t,this.queryTap(this._params)},formartResdata:function(t){this.total=t.total,this.data=t.records}}}},"98b0":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"payment-page"},[a("div",{staticClass:"g-home-page-header-fixed"},[a("PaymentReceived",{ref:"header",on:{queryTap:t.submitTap}})],1),a("div",{staticClass:"g-home-page-content"},[a("div",{staticClass:"order-page-content"},[a("div",{staticClass:"g-h-box"},[a("el-button",{staticClass:"g-margin-right-12 edit",attrs:{type:"primary",size:"mini",round:""},on:{click:t.printTap}},[t._v("打印")]),a("VxeColumnTree",{attrs:{data:t.columns},on:{submit:t.changeColumn}}),a("el-button",{staticClass:"g-margin-left-12 edit",attrs:{round:"",size:"mini",type:"default"},on:{click:t.exportFn}},[t._v("导出Excel")])],1),a("div",{directives:[{name:"g-loading",rawName:"v-g-loading",value:t.loading,expression:"loading"}],staticClass:"top-table-box",attrs:{"g-loading-radius":"10"}},[a("g-vxe-grid-list",{ref:"vxe",attrs:{align:"center",headerAlign:"center",data:t.data,total:t.total,columns:t.columns,queryData:t.queryData,showFooter:!0,footerMethod:t.totalFooterDataFn,footerCellClassName:t.footerCellClassNameFn},on:{pageChange:t.pageChange}})],1)])])])},n=[],r=(a("99af"),a("d81d"),a("fb6a"),a("b0c0"),a("96cf"),a("1da1")),o=a("5530"),s=a("2909"),c=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("HeaderBox",[a("div",{staticClass:"g-header-form g-page-header-form"},[a("div",{staticClass:"g-form-box"},[a("FormLine",{staticClass:"g-form-box g-form-box-top",attrs:{data:t.topList,bindData:t.queryData}}),a("HeaderControl",{ref:"control",on:{resetTap:t.resetTap,queryTap:t.queryTap,moreTap:t.moreTap}})],1)]),a("div",{attrs:{slot:"more"},slot:"more"},[a("el-collapse-transition",[a("div",{directives:[{name:"show",rawName:"v-show",value:t.showFlag,expression:"showFlag"}],staticClass:"g-form-more-box g-header-form g-page-header-form"},t._l(t.formItemList,(function(e,i){return a("FormLine",{key:i,class:0===i?"g-form-box":"g-form-line",attrs:{data:e,bindData:t.queryData}})})),1)])],1)])},l=[],d=(a("4160"),a("159b"),a("edef")),u=a("53eb"),m=a("9840e"),h=a("f348"),p=a("1412"),f=a("a5dd"),y={mixins:[p["a"],f["a"]],components:{HeaderBox:d["a"],HeaderControl:u["a"],FormLine:m["a"]},data:function(){return{queryData:{csocode:"",cordercode:"",startDate:"",endDate:"",ccusName:"",startDvouchDate:"",endDvouchDate:"",finishPayed:!1,companyCode:"9999",cvencode:""},itemList:[],topList:[],showFlag:!1}},computed:{formItemList:function(){var t=[];return this.itemList.forEach((function(e,a){var i=a/4|0;t[i]||(t[i]=[]),t[i].push(Object(o["a"])({},e))})),t}},created:function(){this._initUIView()},methods:{moreTap:function(){this.showFlag=!this.showFlag},resetTap:function(){var t=this.$refs.control;t&&t.reset(this.queryData)},queryTap:function(){var t=this.fomartReqdata(),e=Object(o["a"])(Object(o["a"])({},t),{},{paymentFlag:t.finishPayed?1:0});delete e["finishPayed"],this.$emit("queryTap",e),this.showFlag=!1},fomartReqdata:function(){return Object(h["c"])(this.queryData)},_initUIView:function(){this._initItemList()},_initItemList:function(){this.topList=[{title:"订单号",type:"input-text",bindKey:"csocode"},{title:"采购订单号",type:"input-text",bindKey:"cordercode"},{title:"日期",type:"date-picker-between",start:"startDate",end:"endDate"}],this.itemList=[{title:"客户",type:"input-text",bindKey:"ccusName"},{title:"回款时间",type:"date-picker-between",start:"startDvouchDate",end:"endDvouchDate",endRight:!0},{title:"帐套",style:{width:"200px","margin-right":"12px"},type:"select",options:this.companyOptions,bindKey:"companyCode"},{title:"存货编码",type:"input-text",bindKey:"key1"},{title:"供应商",type:"select",style:{marginRight:"20px"},bindKey:"cvencode",options:this.supplierList},{title:"过滤已完成付款",type:"switch",bindKey:"finishPayed"}]}}},g=y,b=a("2877"),v=Object(b["a"])(g,c,l,!1,null,"bacf2d7a",null),x=v.exports,D=a("f8b7"),w=a("8b28"),C=a("ce3b"),_=a("c5b0"),q=a("cef6"),O=a("4024"),T={mixins:[w["a"],C["a"],q["a"],O["a"]],components:{PaymentReceived:x},data:function(){return{columns:[],loading:!1,pTitle:"收付款对应表",queryData:{size:30,current:1},data:[],totalData:{},footerData:[]}},created:function(){this._initUIView()},methods:{totalFooterDataFn:function(t){var e=this,a=t.columns.slice(1);if(!this.totalData.extra)return[[]];var i={},n=a.map((function(t){var a="".concat(t.property),n=Object(h["h"])(e.totalData.extra[a]||""),r=n||0===n?n:"-";return i[a]=r,r}));return this.footerData=["合计"].concat(Object(s["a"])(n)),this.printTotalData=i,[this.footerData]},submitTap:function(t){this.queryData.current=1,this.queryTap(t)},exportFn:function(){this._params||(this._params={});var t=this.mixinExportFormat([this._params.startDate,this._params.endDate],"日期");t&&(this._params.name="收付款对应表.xlsx",Object(D["i"])(this._params))},queryTap:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.headerQuery=t,this._apiOrderCloseList(Object(o["a"])(Object(o["a"])({},t),this.queryData))},pageChange:function(t){this.queryData.current=t,this.queryTap(this._params)},formartResdata:function(t){this.total=t.total,this.data=t.records,this.totalData=t},footerCellClassNameFn:function(t){var e=t.$rowIndex;t.column,t.columnIndex;if(0===e)return"g-row-purple"},_initUIView:function(){this.queryTap(),this._initColumns()},getVxeCellStyle:function(t,e){return{headerClassName:t,className:function(t){return t.$rowIndex%2===1?e:""}}},_initColumns:function(){var t=this,e=this.getVxeCellStyle("g-vxe-header-cell-grey-dark","g-vxe-cell-grey-dark");this.columns=[{title:"账套",field:"companyCode",minWidth:138,formatter:function(t){var e=t.row;return _["a"][e.companyCode]}},{title:"采购订单号",field:"cordercode",minWidth:138},{title:"存货编码",field:"cinvcode",minWidth:138},{title:"日期",field:"ddate",minWidth:138,formatter:function(e){var a=e.row;return t.$day.format(a.ddate)}},{title:"供应商",field:"cvenname",minWidth:138},{title:"本次应付金额",field:"paymentMoney",minWidth:138},{title:"已付金额",field:"paymentNatMoney",minWidth:138},{title:"未付金额",field:"noPaymentMoney",minWidth:138},Object(o["a"])({title:"客户",field:"ccusName",minWidth:138},e),Object(o["a"])({title:"订单号",field:"csocode",minWidth:138},e),Object(o["a"])({title:"销售订单行号",field:"irowno",minWidth:138},e),Object(o["a"])({title:"订单金额",field:"saleBillNatMoney",minWidth:138},e),Object(o["a"])({title:"已回款金额",field:"conlectionNatMoney",minWidth:138},e),Object(o["a"])({title:"未回款金额",field:"noConlectionMoney",minWidth:138},e),Object(o["a"])({title:"回款时间",field:"dvouchDate",minWidth:138,formatter:function(e){var a=e.row;return t.$day.format(a.dvouchDate)}},e)]},_apiOrderCloseList:function(t){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){var i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,e.loading=!0,e._params=JSON.parse(JSON.stringify(t)),a.next=5,Object(D["u"])(t);case 5:i=a.sent,e.formartResdata(i),a.next=11;break;case 9:a.prev=9,a.t0=a["catch"](0);case 11:e.loading=!1;case 12:case"end":return a.stop()}}),a,null,[[0,9]])})))()}}},j=T,L=(a("2b4e"),Object(b["a"])(j,i,n,!1,null,"0a4159b2",null));e["default"]=L.exports},a5dd:function(t,e,a){"use strict";a("d81d"),a("96cf");var i=a("1da1"),n=a("f8b7");e["a"]={data:function(){return{supplierList:[]}},created:function(){this._apiGetSupplierList()},methods:{formatSupplierData:function(t){t&&t.length>0&&(this.supplierList=t.map((function(t){return{label:t.cven_name,value:t.cven_code}}))),this._initItemList()},_apiGetSupplierList:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(n["r"])();case 3:a=e.sent,t.formatSupplierData(a),e.next=9;break;case 7:e.prev=7,e.t0=e["catch"](0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})))()}}}}}]);