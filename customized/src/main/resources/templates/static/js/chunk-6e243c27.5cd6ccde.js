(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6e243c27"],{"07ac":function(t,e,a){var n=a("23e7"),r=a("6f53").values;n({target:"Object",stat:!0},{values:function(t){return r(t)}})},"1a82":function(t,e,a){},"1e8f":function(t,e,a){},"21a7":function(t,e,a){},2532:function(t,e,a){"use strict";var n=a("23e7"),r=a("5a34"),i=a("1d80"),o=a("ab13");n({target:"String",proto:!0,forced:!o("includes")},{includes:function(t){return!!~String(i(this)).indexOf(r(t),arguments.length>1?arguments[1]:void 0)}})},"31a2":function(t,e,a){"use strict";a("1e8f")},"389c":function(t,e,a){},"3e5c":function(t,e,a){"use strict";a("8910")},4577:function(t,e,a){},4733:function(t,e,a){"use strict";a("585d")},"47b6":function(t,e,a){},5801:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.loadingBox?a("g-echart-box",{directives:[{name:"g-loading",rawName:"v-g-loading",value:t.loading,expression:"loading"}],attrs:{bgcolor:t.bgcolor,"g-loading-background":t.bgcolor,"g-loading-text-color":t.textColor,txtColor:t.txtColor,imgWidth:t.imgWidth,empty:0===t.xdata.length}},[a("div",{ref:"chart",style:t.boxStyle})]):a("div",{ref:"chart",style:t.boxStyle})},r=[],i=(a("4160"),a("a9e3"),a("159b"),a("33c3")),o=a("164e"),s={props:{title:{type:String,default:""},imgWidth:{type:Number,default:200},txtColor:{type:String,default:"white"},data:{type:Array,default:function(){return[]}},xdata:{type:Array,default:function(){return[]}},height:{type:[Number,String],default:320},bgcolor:{type:String,default:"white"},textColor:{type:String,default:"#606266"},colors:{type:Array,default:function(){return[]}},options:{type:Object,default:function(){return null}},xTitle:{type:String,default:""},yTitle:{type:String,default:""},emptyText:String,loadingScale:{type:Number,default:1},smooth:{type:Boolean,default:!1},loadingBox:{type:Boolean,default:!0}},data:function(){return{loading:!0}},computed:{boxStyle:function(){return{height:this.height+"px",margin:"0 auto"}}},mounted:function(){window.addEventListener("resize",this.resize)},methods:{resize:function(){this.chart&&this.chart.resize()},_initCanvas:function(){var t=this;this._renderIndex>1&&this.loading&&(this.loading=!1),this.loading&&this.xdata.length>0&&(this.loading=!1),this.$nextTick((function(){t.loading||t._initChart()}))},_initChart:function(){var t=this;if(!this.chart){var e=this.$refs.chart;if(!e)return;this.chart=o["init"](e)}this.data.length>0&&this.data.forEach((function(e,a){e.type="bar"===e.type?"bar":"line",e.symbolSize=e.symbolSize||0,e.smooth=t.smooth,t.colors.length&&t.colors.length>0&&t.colors.forEach((function(t,n){a===n&&(e.color=t)}))}));var a=Object(i["l"])(this.data,this.xdata,this.title,this.xTitle,this.yTitle);Object(i["c"])(a,this.options),this.options&&(a=Object(i["m"])(this.options,a)),this.chart.clear(),this.chart.setOption(a)}},watch:{data:{deep:!0,immediate:!0,handler:function(){this._renderIndex||(this._renderIndex=0),this._renderIndex++,this._initCanvas()}}},beforeDestroy:function(){window.removeEventListener("resize",this.resize)}},c=s,l=(a("31a2"),a("2877")),u=Object(l["a"])(c,n,r,!1,null,"6cbf7eb0",null);e["a"]=u.exports},"585d":function(t,e,a){},"5a34":function(t,e,a){var n=a("44e7");t.exports=function(t){if(n(t))throw TypeError("The method doesn't accept regular expressions");return t}},"5ed8":function(t,e,a){},"60c0":function(t,e,a){"use strict";var n=a("b85c"),r=126;e["a"]={mounted:function(){this.mixinListener()},methods:{mixinListener:function(){window.addEventListener("scroll",this.mixinScroll)},mixinScroll:function(){if(this._noListening)this._noListening=!1;else if(this._topList){for(var t=window.scrollY,e=1;e<this._topList.length;e++)if(t<this._topList[e])return this.mixinScrollActive(e-1);return this.mixinScrollActive(this._topList.length-1)}},mixinIsBottom:function(){var t=Math.max(document.documentElement.scrollHeight,document.body.scrollHeight),e=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop,a=window.innerHeight||Math.min(document.documentElement.clientHeight,document.body.clientHeight);return a+e>=t},mixinInitElement:function(t){var e,a=[],i=Object(n["a"])(t);try{for(i.s();!(e=i.n()).done;){var o=e.value,s=this.$refs[o.key];if(s){var c=s.offsetTop-r;a.push(c)}}}catch(l){i.e(l)}finally{i.f()}this._topList=a},mixinScrollActive:function(t){this.scrollActiveIndex&&this.scrollActiveIndex(t)},mixinScrollToIndex:function(t){var e=this._topList[t]||0;this._noListening=!0,window.scrollTo(0,e)}},beforeDestroy:function(){window.removeEventListener("scroll",this.mixinScroll)}}},"6b44":function(t,e,a){"use strict";a("1a82")},"6f53":function(t,e,a){var n=a("83ab"),r=a("df75"),i=a("fc6a"),o=a("d1e7").f,s=function(t){return function(e){var a,s=i(e),c=r(s),l=c.length,u=0,d=[];while(l>u)a=c[u++],n&&!o.call(s,a)||d.push(t?[a,s[a]]:s[a]);return d}};t.exports={entries:s(!0),values:s(!1)}},7670:function(t,e,a){"use strict";a("4577")},"793b":function(t,e,a){"use strict";a("389c")},"7b0be":function(t,e,a){},"7db0":function(t,e,a){"use strict";var n=a("23e7"),r=a("b727").find,i=a("44d2"),o=a("ae40"),s="find",c=!0,l=o(s);s in[]&&Array(1)[s]((function(){c=!1})),n({target:"Array",proto:!0,forced:c||!l},{find:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),i(s)},"7f95":function(t,e,a){"use strict";a("9a04")},"84b2":function(t,e,a){"use strict";a("e3ed")},8870:function(t,e,a){"use strict";a("7b0be")},8910:function(t,e,a){},8943:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("g-echart-box",{attrs:{bgcolor:t.bgcolor,empty:0===t.xdata.length,txtColor:t.txtColor,imgWidth:t.imgWidth}},[a("div",{ref:"chart",staticClass:"echart-box",style:t.boxStyle})])},r=[],i=(a("4160"),a("a9e3"),a("159b"),a("33c3")),o=a("164e"),s={props:{title:{type:String,default:""},imgWidth:{type:Number,default:200},txtColor:{type:String,default:"#606266"},data:{type:Array,default:function(){return[]}},bgcolor:{type:String,default:"white"},xdata:{type:Array,default:function(){return[]}},height:{type:[String,Number],default:"320"},labelColor:{type:String,default:"#FF413D"},showLabel:{type:Boolean,default:!1},options:{type:Object,default:function(){return null}}},data:function(){return{}},computed:{boxStyle:function(){return{height:this.height+"px",margin:"0 auto"}}},mounted:function(){var t=this;window.addEventListener("resize",(function(){t.chart.resize()}),!1)},methods:{_initCanvas:function(){var t=this;this.$nextTick((function(){t._initChart()}))},resize:function(){this.chart&&this.chart.resize()},_initChart:function(){if(!this.chart){var t=this.$refs.chart;if(!t)return;this.chart=o["init"](t)}this.data.length>0&&this.data.forEach((function(t){t.type=t.type||"bar",t.barWidth=t.barWidth||16}));var e=Object(i["b"])(this.data,this.xdata,this.title);Object(i["c"])(e,this.options),this.options&&(e=Object(i["m"])(this.options,e)),this.chart.clear(),this.chart.setOption(e)}},watch:{data:{deep:!0,immediate:!0,handler:function(){this._initCanvas()}}}},c=s,l=a("2877"),u=Object(l["a"])(c,n,r,!1,null,"35e3f8c6",null);e["a"]=u.exports},"94df":function(t,e,a){"use strict";a("5ed8")},9534:function(t,e,a){"use strict";a("47b6")},"95bb":function(t,e,a){"use strict";a("e866")},"969a":function(t,e,a){"use strict";a("effa")},"9a04":function(t,e,a){},ab01:function(t,e,a){"use strict";a("f185")},ab13:function(t,e,a){var n=a("b622"),r=n("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(a){try{return e[r]=!1,"/./"[t](e)}catch(n){}}return!1}},ab8e:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"manage-page"},[a("LayoutContent",{attrs:{menuActive:t.menuActive,menuList:t.menuList},on:{menuTap:t.menuTap}},[a("div",{ref:"time"},[a("OrderAnaly",{on:{queryTap:t.queryTap}}),a("ManageOverview",{attrs:{areaText:t.areaText,dateText:t.dateText,countList:t.countList,limitList:t.limitList}})],1),a("div",{ref:"rank"},[a("OrderRank",{attrs:{areaText:t.areaText,dateText:t.dateText,rankList:t.rankList}}),a("OrderAmount",{attrs:{areaText:t.areaText,dateText:t.dateText,xdata:t.amountData.xdata,countList:t.amountData.countList,limitList:t.amountData.limitList}})],1),a("div",{ref:"analy"},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:12}},[a("OrderTypeRate",{attrs:{year:t.year,areaText:t.areaText,dateText:t.dateText,chartData:t.sellTypeData.year}})],1),a("el-col",{attrs:{span:12}},[a("OrderMonthRate",{attrs:{month:t.month,areaText:t.areaText,dateText:t.dateText,monthList:t.sellTypeData.monthList}})],1)],1),a("OrderTypeTrend",{attrs:{areaText:t.areaText,dateText:t.dateText,xdata:t.sellTypeData.xdata,ydata:t.sellTypeData.ydata,params:t.queryData}})],1),a("div",{ref:"avg"},[a("OrderAvgStatistics",{attrs:{areaText:t.areaText,dateText:t.dateText,dataList:t.avgData.dataList,curYear:t.year}}),a("OrderAvgTrend",{attrs:{areaText:t.areaText,dateText:t.dateText,unit:t.avgData.unit,xdata:t.avgData.xdata,ydata:t.avgData.ydata,params:t.queryData}})],1)])],1)},r=[],i=(a("99af"),a("4de4"),a("c740"),a("a15b"),a("d81d"),a("b85c")),o=a("7c9f"),s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"order-page"},[t._m(0),a("div",{staticClass:"form-line-box"},[a("SelectLine",{ref:"company",attrs:{func:t.apiGetSellCustomer,label:"客户"},on:{change:t.customerChange},model:{value:t.queryData.customer,callback:function(e){t.$set(t.queryData,"customer",e)},expression:"queryData.customer"}}),a("SelectLine",{ref:"warZone",attrs:{disabled:!t.queryData.customer,func:t.apiGetSellWarzone,label:"战区"},on:{change:t.warZoneChange},model:{value:t.queryData.warZone,callback:function(e){t.$set(t.queryData,"warZone",e)},expression:"queryData.warZone"}}),a("SelectLine",{ref:"province",attrs:{disabled:!t.queryData.warZone,func:t.apiGetSellProvince,label:"省区"},on:{change:t.provinceChange},model:{value:t.queryData.province,callback:function(e){t.$set(t.queryData,"province",e)},expression:"queryData.province"}}),a("SelectLine",{ref:"area",attrs:{disabled:!t.queryData.province,func:t.apiGetSellArea,label:"片区"},on:{change:t.queryTap},model:{value:t.queryData.area,callback:function(e){t.$set(t.queryData,"area",e)},expression:"queryData.area"}}),a("div",{staticClass:"date-box"},[a("div",{staticClass:"label"},[t._v("月份")]),a("div",{staticClass:"date"},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{size:"medium",type:"month",placeholder:"选择月份",clearable:!1,"picker-options":t.pickerOptions},on:{change:t.queryTap},model:{value:t.queryData.endDate,callback:function(e){t.$set(t.queryData,"endDate",e)},expression:"queryData.endDate"}})],1)])],1)])},c=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"top-title"},[a("span",{staticClass:"t"},[t._v("筛选")])])}],l=a("5530"),u=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"select-line g-change-loading"},[a("div",{staticClass:"label"},[t._v(t._s(t.label))]),a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"select",attrs:{"element-loading-background":"rgba(0, 0, 0, 0.3)","element-loading-spinner":"el-icon-loading"}},[a("VirtualSelect",{attrs:{size:"medium",value:t.value,data:t.options,disabled:t.disabled},on:{change:t.change}})],1)])},d=[],f=(a("96cf"),a("1da1")),h=a("2909"),p=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"vir-select"},[a("el-input",{ref:"input",staticClass:"input",attrs:{value:t.valueText,disabled:t.disabled,readonly:!t.filterable,placeholder:t.selectItem.label,size:t.size,"suffix-icon":t.visible?"el-icon-arrow-up":"el-icon-arrow-down"},on:{blur:t.onblur,focus:t.onfocus,input:t.inputChange}}),a("transition",{attrs:{name:"el-zoom-in-top"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"visible"}],staticClass:"vir-box",style:t.vboxStyle},[a("VirtualScroll",{staticClass:"vir-scroll",attrs:{keeps:t.keeps,"estimate-size":t.estimateSize,"data-key":t.valueKey,"data-sources":t.dataList,"data-component":t.optionComponent||t.OptionItem,"extra-props":{click:t.itemTap,activeValue:t.value,valueKey:t.valueKey}}})],1)])],1)},m=[],v=(a("7db0"),a("4160"),a("caad"),a("a9e3"),a("2532"),a("159b"),a("89c1")),b=a.n(v),g=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"option-item",class:[t.isActive?"active":""],on:{click:t.itemTap}},[a("div",{staticClass:"text"},[t._v(t._s(t.source.label))]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.isActive,expression:"isActive"}],staticClass:"icon"},[a("i",{staticClass:"el-icon-check"})])])},y=[],x={props:{index:Number,source:Object,click:Function,valueKey:String,activeValue:[Number,String,Boolean]},data:function(){return{}},computed:{isActive:function(){return this.activeValue===this.source[this.valueKey]}},methods:{itemTap:function(){this.click&&this.click(this.source,this.index)}}},T=x,C=(a("94df"),a("2877")),w=Object(C["a"])(T,g,y,!1,null,"096848e3",null),_=w.exports,D=a("f348"),O={default:40,medium:36,small:32,mini:28},k={props:{value:{type:[Number,String,Boolean],default:""},data:{type:Array,default:function(){return[{value:"1001",label:"10001"},{value:"1002",label:"10003"},{value:"1003",label:"10004"},{value:"1004",label:"10005"},{value:"1005",label:"10006"},{value:"1006",label:"10007"},{value:"1007",label:"10008"},{value:"1008",label:"10009"},{value:"1009",label:"100010"}]}},valueKey:{type:String,default:"value"},disabled:{type:Boolean,default:!1},size:{validator:function(t){return!!["medium","small","mini","default"].find((function(e){return e===t}))},default:"medium"},filterable:{type:Boolean,default:!0},optionComponent:{type:[Object,Function]},keeps:{type:Number,default:30},estimateSize:{type:Number,default:34}},model:{prop:"value",event:"change"},components:{OptionItem:_,VirtualScroll:b.a},data:function(){return{OptionItem:_,visible:!1,keyword:null,extraProps:{},dataList:[]}},computed:{vboxStyle:function(){var t=this.getContentWidth();return{top:O[this.size]+10+"px",width:t+"px"}},selectItem:function(){var t=this,e=this.data.find((function(e){return e[t.valueKey]===t.value}));return e||{}},valueText:function(){return this.visible?this.keyword:this.selectItem.label}},methods:{getContentWidth:function(){var t=0;return this.data.forEach((function(e){var a=Object(D["k"])(e.label);t=a>t?a:t})),7*t+32},inputChange:function(t){var e=this;this.keyword=t,this.timer&&clearTimeout(this.timer),this.timer=setTimeout((function(){e.dataList=e.data.filter((function(e){return e.label.includes(t)}))}),300)},itemTap:function(t){this.keyword=t.label,this.$emit("change",t.value)},onblur:function(){var t=this;this.keyword=this.selectItem.label,this.$emit("blur"),setTimeout((function(){t.visibleChange(!1)}),200)},onfocus:function(){this.filterable&&(this.keyword="",this.inputChange(this.keyword)),this.$emit("focus"),this.visibleChange(!0)},visibleChange:function(t){this.visible=t,this.$emit("visible-change",t)},blur:function(){var t=this.$refs.input;t&&t.blur()},focus:function(){var t=this.$refs.input;t&&t.focus()}},watch:{data:{immediate:!0,handler:function(t){this.dataList=t}}}},L=k,S=(a("793b"),Object(C["a"])(L,p,m,!1,null,"35bab6e4",null)),A=S.exports,j={props:{value:{type:String,default:""},label:{type:String,default:""},disabled:Boolean,func:Function},components:{VirtualSelect:A},model:{prop:"value",event:"change"},data:function(){return{loading:!1,options:[]}},methods:{change:function(t){this.$emit("change",t)},queryTap:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.startDate=t.startDate||this.$day.startOf("year",t.endDate),this._apiFunc(t)},formatResdata:function(t){var e=t.map((function(t){return{label:t,value:t}}));this.options=[{label:"全部",value:""}].concat(Object(h["a"])(e))},_apiFunc:function(t){var e=this;return Object(f["a"])(regeneratorRuntime.mark((function a(){var n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,e.loading=!0,a.next=4,e.func(t);case 4:n=a.sent,e.formatResdata(n),e.change(""),e.loading=!1,a.next=12;break;case 10:a.prev=10,a.t0=a["catch"](0);case 12:case"end":return a.stop()}}),a,null,[[0,10]])})))()}}},E=j,$=(a("cae0"),Object(C["a"])(E,u,d,!1,null,"0d56afbc",null)),R=$.exports,q=a("bc3a"),F=a.n(q);function B(t){var e="/sell/customer";return F.a.post(e,t)}function I(t){var e="/sell/warzone";return F.a.post(e,t)}function N(t){var e="/sell/province";return F.a.post(e,t)}function z(t){var e="/sell/area";return F.a.post(e,t)}function W(t){var e="/sell/rtorder";return F.a.post(e,t)}function V(t){var e="/sell/order/rank/detail";return F.a.post(e,t)}function G(t){var e="/sell/order/limit/detail";return F.a.post(e,t)}function M(t){var e="/sell/type";return F.a.post(e,t)}function U(t){var e="/sell/order/type/detail";return F.a.post(e,t)}function Y(t){var e="/sell/channel";return F.a.post(e,t)}function Z(t){var e="/sell/avg";return F.a.post(e,t)}function K(t){var e="/sell/order/avg/detail";return F.a.post(e,t)}var H=a("2f62"),P={components:{SelectLine:R},data:function(){return{apiGetSellCustomer:B,apiGetSellProvince:N,apiGetSellWarzone:I,apiGetSellArea:z,queryData:{customer:"",warZone:"",province:"",area:"",endDate:"",startDate:""},pickerOptions:{disabledDate:function(t){return t.getTime()>(new Date).getTime()}}}},computed:Object(l["a"])({},Object(H["c"])(["mindInfo"])),mounted:function(){this._initUIView()},methods:{customerChange:function(){var t=this.$refs.warZone;t&&t.queryTap(this.queryData)},warZoneChange:function(){var t=this.$refs.province;t&&t.queryTap(this.queryData)},provinceChange:function(){var t=this.$refs.area;t&&t.queryTap(this.queryData)},queryTap:function(){this.queryData.endDate=this.$day.endOf("month",this.queryData.endDate),this.queryData.startDate=this.$day.startOf("year",this.queryData.endDate),this.$emit("queryTap",Object(l["a"])(Object(l["a"])({},this.queryData),{},{companyId:this.mindInfo.companyId}))},queryCompany:function(){var t=this.$refs.company;t&&t.queryTap(this.queryData)},_initUIView:function(){this.queryData.endDate=this.$day.endOf("month"),this.queryCompany()}}},J=P,X=(a("84b2"),Object(C["a"])(J,s,c,!1,null,"7509795e",null)),Q=X.exports,tt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"manage-overview g-margin-top-20"},[a("div",{staticClass:"top-title"},[a("div",{staticClass:"t"},[t._v(t._s(t.areaText)+"经营概览")]),a("div",{staticClass:"text"},[t._v("（基于"+t._s(t.dateText)+"数据分析）")])]),a("div",{staticClass:"flex-group"},[a("el-row",{attrs:{type:"flex",gutter:20}},[a("el-col",{staticClass:"l",attrs:{span:12}},[a("OrderCard",{attrs:{dataList:t.countList,colorArr:t.colorArr1}},[a("div",{attrs:{slot:"titleInfo"},slot:"titleInfo"},[t._v("实时订单数统计")])])],1),a("el-col",{staticClass:"r",attrs:{span:12}},[a("OrderCard",{attrs:{dataList:t.limitList,colorArr:t.colorArr2}},[a("div",{attrs:{slot:"titleInfo"},slot:"titleInfo"},[t._v("实时订单额统计")])])],1)],1)],1)])},et=[],at=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"order-card-page"},[t.$slots.titleInfo?a("div",{staticClass:"title"},[t._t("titleInfo",[t._v(t._s(t.titleInfo))])],2):t._e(),a("div",{staticClass:"flex-main"},[a("el-row",{attrs:{type:"flex",gutter:20}},t._l(t.dataList,(function(e,n){return a("el-col",{key:n,attrs:{span:24/t.dataList.length}},[a("div",{staticClass:"card-list",style:{height:t.height,"background-image":"-webkit-linear-gradient(left, "+t.colorArr[n].color1+","+t.colorArr[n].color2+")"}},[a("span",{staticClass:"label"},[t._v(t._s(e.label))]),a("span",{staticClass:"val"},[a("g-count-to",{attrs:{value:e.value}}),t._v(" "+t._s(e.unit)+" ")],1),e.rate?a("span",{staticClass:"rate"},[t._v(t._s(e.rate))]):t._e()])])})),1)],1)])},nt=[],rt={props:{height:{type:String,default:"124px"},titleInfo:{type:String,default:"订单数完成统计"},colorArr:{type:Array,default:function(){return[]}},rate:{type:String,default:""},dataList:{type:Array,default:function(){return[{label:"2021年累计完成",unit:"单",value:""},{label:"8月份累计完成",unit:"单",value:""},{label:"环比上月",unit:"%",value:""}]}}}},it=rt,ot=(a("3e5c"),Object(C["a"])(it,at,nt,!1,null,"73e6b2fa",null)),st=ot.exports,ct={props:{countList:Array,limitList:Array,areaText:String,dateText:String},components:{OrderCard:st},data:function(){return{colorArr1:[{color1:"rgba(146, 181, 252, 1)",color2:"rgba(89, 126, 247, 1)"},{color1:"rgba(162, 225, 255, 1)",color2:"rgba(105, 192, 255, 1)"},{color1:"rgba(0, 108, 192, 1)",color2:"rgba(0, 58, 140, 1)"}],colorArr2:[{color1:"rgba(175, 240, 218, 1)",color2:"rgba(119, 221, 179, 1)"},{color1:"rgba(102, 233, 230, 1)",color2:"rgba(54, 207, 201, 1)"},{color1:"rgba(138, 228, 56, 1)",color2:"rgba(82, 196, 26, 1)"}]}}},lt=ct,ut=(a("d2e1"),Object(C["a"])(lt,tt,et,!1,null,"21e43a54",null)),dt=ut.exports,ft=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row-box-wrapper"},[a("RowBox",{attrs:{title:t.title,text:"（基于"+t.dateText+"数据分析）",subTitle:t.areaText},on:{tipClick:t.tipClick}},[a("div",{staticClass:"r-content"},[a("DoubleLineChart",{attrs:{xdata:t.xdata,ydata:t.ydata}})],1)])],1)},ht=[],pt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("LineChart",{attrs:{height:368,data:t.ydata,xdata:t.xdata,options:t.options}})],1)},mt=[],vt=(a("b0c0"),a("5801")),bt={components:{LineChart:vt["a"]},props:{xdata:Array,ydata:Array},data:function(){return{options:{}}},created:function(){this._initUIView()},methods:{_initUIView:function(){this._initOptions()},_initOptions:function(){this.options={grid:{top:40,bottom:50,left:120,right:120},tooltip:{extraCssText:"width: 180px",formatter:function(t){var e=t[0].name,a=t.map((function(t){if(null===t.value)return"".concat(t.seriesName," 无");var e=Object(D["f"])(t.value,"元",!0),a="订单额"===t.seriesName?"元":"单";return"".concat(t.seriesName," ").concat(e).concat(a)}));return[e].concat(Object(h["a"])(a)).join("<br/>")}},legend:{bottom:20},xAxis:{type:"category",splitLine:{show:!1}},yAxis:[{type:"value",name:"订单数（单）",min:0,axisLabel:{show:!0,formatter:function(t){var e=Object(D["f"])(t,"元",!0);return e},color:"rgba(0, 0, 0, 0.45)"},splitLine:{show:!0,lineStyle:{color:["#EBEEF5"],type:"dashed"}},nameTextStyle:{color:"rgba(0, 0, 0, 0.45)"}},{type:"value",name:"订单额（元）",min:0,axisLabel:{show:!0,formatter:function(t){var e=Object(D["f"])(t,"元",!0);return e},color:"rgba(0, 0, 0, 0.45)"},nameTextStyle:{color:"rgba(0, 0, 0, 0.45)"},splitLine:{show:!0,lineStyle:{color:["#EBEEF5"],type:"dashed"}}}]}}}},gt=bt,yt=Object(C["a"])(gt,pt,mt,!1,null,"1fbef744",null),xt=yt.exports,Tt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row-box"},[t.showTip?a("ChartTableTip",{staticClass:"tip",on:{click:t.tipClick}}):t._e(),a("div",{staticClass:"box-top"},[a("div",{staticClass:"title-box",class:t.isWrap?"wrap":""},[a("div",{staticClass:"title"},[t._v(t._s(t.title))]),a("div",{staticClass:"text"},[t._v(t._s(t.text))])]),t.subTitle?a("div",{staticClass:"sub-title"},[t._v(t._s(t.subTitle))]):t._e()]),a("div",{staticClass:"box-content"},[t._t("default")],2)],1)},Ct=[],wt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"chart-table-tip"},[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"查看明细",placement:"left"}},[a("div",{directives:[{name:"theme-bg",rawName:"v-theme-bg"}],staticClass:"icon-box",on:{click:t.itemTap}},[a("i",{staticClass:"el-icon-tickets"})])])],1)},_t=[],Dt={data:function(){return{}},methods:{itemTap:function(){this.$emit("click")}}},Ot=Dt,kt=(a("ab01"),Object(C["a"])(Ot,wt,_t,!1,null,"541dcc1c",null)),Lt=kt.exports,St={props:{isWrap:Boolean,title:String,text:String,subTitle:String,showTip:{type:Boolean,default:!0}},components:{ChartTableTip:Lt},data:function(){return{}},methods:{tipClick:function(){this.$emit("tipClick")}}},At=St,jt=(a("969a"),Object(C["a"])(At,Tt,Ct,!1,null,"0b03dc3c",null)),Et=jt.exports,$t={props:{areaText:String,dateText:String,xdata:Array,countList:Array,limitList:Array},components:{RowBox:Et,DoubleLineChart:xt},data:function(){return{title:"订单数&订单额趋势图"}},computed:{ydata:function(){return[{type:"line",areaStyle:{color:"rgba(91, 143, 249, .3)"},name:"订单数",color:"rgba(91, 143, 249, 1)",data:this.countList},{type:"line",name:"订单额",color:"rgba(90, 216, 166, 1)",data:this.limitList,yAxisIndex:1}]}},methods:{tipClick:function(){var t=this.formatColumns(),e=t.data,a=t.columns;if(0===e.length)return this.$message({type:"warning",message:"暂无数据"});this.$bus.$emit("open-modal-table",{title:"".concat(this.title,"（基于").concat(this.dateText,"数据分析）"),subTitle:this.areaText,data:e,columns:a})},formatColumns:function(){var t=this,e=[{title:"类别",key:"type"}],a={type:"订单额"},n={type:"订单数"};return this.xdata.forEach((function(r,i){e.push({title:r,key:r});var o=t.countList[i].value,s=t.limitList[i].value,c=Object(D["f"])(s,"元",!0);a[r]=null===s?"--":c,n[r]=null===o?"--":o})),{columns:e,data:[n,a]}}}},Rt=$t,qt=(a("6b44"),Object(C["a"])(Rt,ft,ht,!1,null,"4b16c943",null)),Ft=qt.exports,Bt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",t._l(t.dataList,(function(e,n){return a("div",{key:n,staticClass:"row-box-wrapper"},[a("el-row",{attrs:{gutter:20}},t._l(e,(function(e,r){return a("el-col",{key:r,attrs:{span:12}},[a("RowBoxColumn",{attrs:{title:e.title,text:"基于"+t.dateText+"数据分析",subTitle:t.areaText,xdata:e.xdata,ydata:e.ydata,color:t.colorList[n],unit:t.unitList[r]},on:{tipClick:function(a){return t.tipClick(e)}}})],1)})),1)],1)})),0)},It=[],Nt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("RowBox",{attrs:{isWrap:!0,title:t.title,text:t.text,subTitle:t.subTitle},on:{tipClick:t.tipClick}},[a("div",{staticClass:"r-content"},[a("OrderRankChart",{attrs:{title:t.title,color:t.color,xdata:t.xdata,ydata:t.ydata,unit:t.unit}})],1)])},zt=[],Wt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("ColumnChart",{attrs:{imgWidth:180,height:328,data:t.data,xdata:t.xdata,options:t.options}})],1)},Vt=[],Gt=a("8943"),Mt={components:{ColumnChart:Gt["a"]},props:{xdata:Array,ydata:Array,unit:String,title:String,color:{type:String,default:"rgba(91, 143, 249, 0.85)"}},data:function(){return{options:{}}},computed:{data:function(){return[{name:this.title,type:"bar",color:this.color,barWidth:"13",data:this.ydata}]}},created:function(){this._initUIView()},methods:{_initUIView:function(){this._initOptions()},_initOptions:function(){var t=this;this.options={grid:{top:30,bottom:0},tooltip:{extraCssText:"width: 180px",formatter:function(e){var a=e[0],n="".concat(a.seriesName,"（第").concat(a.data.rank,"名）"),r="".concat(a.name," ").concat(Object(D["f"])(a.value,"元",!0)).concat(t.unit);return[n,r].join("<br>")}},legend:{show:!1},xAxis:{type:"category"},yAxis:{type:"value",name:this.unit,splitLine:{show:!0,lineStyle:{color:["#EBEEF5"],type:"dashed"}},axisLabel:{formatter:function(t){var e=Object(D["f"])(t,"元",!0);return e}}}}}}},Ut=Mt,Yt=Object(C["a"])(Ut,Wt,Vt,!1,null,"2360f6f0",null),Zt=Yt.exports,Kt={props:{title:String,text:String,subTitle:String,color:String,xdata:Array,ydata:Array,unit:String},components:{RowBox:Et,OrderRankChart:Zt},data:function(){return{}},methods:{tipClick:function(){this.$emit("tipClick")}}},Ht=Kt,Pt=(a("7f95"),Object(C["a"])(Ht,Nt,zt,!1,null,"c3a55806",null)),Jt=Pt.exports,Xt={methods:{formatResTableData:function(t,e){var a=Object(D["a"])(e.columns||[],"key"),n=t.table,r=n[0].map((function(t){var e=a[t.name];return e||{title:t.name,key:t.name}}));r.unshift({title:"排名",key:"index",width:60});var o=n.map((function(t,n){var r,o={index:n+1},s=Object(i["a"])(t);try{for(s.s();!(r=s.n()).done;){var c=r.value,l=a[c.name];void 0===c.value?o[c.name]="--":o[c.name]=l?l.format?l.format(c.value):c.value:e.format?e.format(c.value):c.value}}catch(u){s.e(u)}finally{s.f()}return o}));return{columns:r,data:o}}}},Qt={mixins:[Xt],props:{areaText:String,dateText:String,rankList:Array},components:{RowBoxColumn:Jt},data:function(){return{colorList:["","#77DDB3"],unitList:["单","元"]}},computed:{dataList:function(){return Object(D["l"])(this.rankList,3)}},methods:{tipClick:function(t){var e=this;return Object(f["a"])(regeneratorRuntime.mark((function a(){var n,r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(t.api){a.next=2;break}return a.abrupt("return");case 2:if(0!==t.ydata.length){a.next=4;break}return a.abrupt("return",e.$message({type:"warning",message:"暂无数据"}));case 4:return e.$bus.$emit("open-modal-table-loading"),a.next=7,t.api(t.params);case 7:n=a.sent,r=e.formatResTableData(n,t),e.$bus.$emit("open-modal-table",{title:"".concat(t.title,"（基于").concat(e.dateText,"数据分析）"),subTitle:e.areaText,data:r.data,columns:r.columns});case 10:case"end":return a.stop()}}),a)})))()}}},te=Qt,ee=(a("95bb"),Object(C["a"])(te,Bt,It,!1,null,"e766371a",null)),ae=ee.exports,ne=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row-box-wrapper"},[a("RowBox",{attrs:{isWrap:!0,title:"渠道订单数"+t.month+"月累计完成占比",text:"基于"+t.dateText+"数据分析",subTitle:t.areaText,showTip:!1}},[t.monthList&&t.monthList.length>0?a("div",{staticClass:"r-content g-relative"},[a("div",{staticClass:"parent",class:t.monthList.length>=6?"nice-scroll2":""},t._l(t.monthList,(function(e,n){return a("div",{key:n,staticClass:"card-list",style:{"background-color":t.colorArr[n%9]}},[a("span",{staticClass:"label"},[t._v(t._s(e.label))]),a("span",{staticClass:"val"},[t._v(t._s(e.value)+t._s(e.unit))]),a("span",{staticClass:"rate"},[t._v("占比"+t._s(e.rate)+"%")])])})),0)]):a("div",[a("div",{staticClass:"g-echart-empty empty"},[a("img",{staticClass:"img",attrs:{src:"/images/empty.png",alt:"",srcset:""}}),a("div",{staticClass:"g-echart-empty-text txt"},[t._v("暂无数据")])])])])],1)},re=[],ie={components:{RowBox:Et},props:{areaText:String,dateText:String,month:String,monthList:Array},data:function(){return{title:"",colorArr:["#597EF7","#53C295","#5A6A85","#F1B912","#5AB0D2","#9166D7","#E48539","#319090","#DD719E"]}},created:function(){},methods:{initTestData:function(){}}},oe=ie,se=(a("e2ac"),Object(C["a"])(oe,ne,re,!1,null,"21a4e4a0",null)),ce=se.exports,le=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row-box-wrapper"},[a("RowBox",{attrs:{title:t.title,text:"（基于"+t.dateText+"数据分析）",subTitle:t.areaText},on:{tipClick:t.tipClick}},[a("div",{staticClass:"r-content"},[a("OrderLineChart",{attrs:{title:"订单额（元）",unit:t.unit,xdata:t.xdata,ydata:t.ydata}})],1)])],1)},ue=[],de=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("LineChart",{attrs:{height:328,data:t.ydata,xdata:t.xdata,options:t.options}})],1)},fe=[],he=a("33c3"),pe={components:{LineChart:vt["a"]},props:{unit:{type:String,default:"单"},xdata:Array,ydata:Array,title:{type:String,default:"订单数（单）"},bottom:{type:Number,default:80}},data:function(){return{options:{}}},created:function(){this._initUIView()},methods:{_initUIView:function(){this._initOptions()},_initOptions:function(){var t=this;this.options={grid:{top:40,bottom:this.bottom,left:120,right:120},tooltip:{formatter:function(e){var a=e[0].name,n=e.map((function(e){if(null===e.data)return"".concat(e.seriesName," 无");var a=Object(D["f"])(e.value,"元",!0);return"".concat(e.seriesName," ").concat(a).concat(t.unit)}));if(n.length<10)return[a].concat(Object(h["a"])(n)).join("<br/>");var r=Object(he["n"])(n,2);return[a].concat(Object(h["a"])(r)).join("")}},legend:{top:268},xAxis:{type:"category",splitLine:{show:!1}},yAxis:{type:"value",name:this.title,axisLabel:{formatter:function(t){var e=Object(D["f"])(t,"元",!0);return e}},splitLine:{show:!0,lineStyle:{color:["#EBEEF5"],type:"dashed"}}}}}}},me=pe,ve=Object(C["a"])(me,de,fe,!1,null,"4473005d",null),be=ve.exports,ge={mixins:[Xt],components:{RowBox:Et,OrderLineChart:be},props:{areaText:String,dateText:String,xdata:Array,ydata:Array,unit:String,params:Object},data:function(){return{title:"均单值趋势图"}},created:function(){},methods:{tipClick:function(){var t=this;return Object(f["a"])(regeneratorRuntime.mark((function e(){var a,n,r,i,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,K(t.params);case 2:a=e.sent,n=t.getColumns(),a.table&&a.table.length>0?(r=t.formatResTableData(a,n),i=r.data,o=r.columns,o.shift(),t.$bus.$emit("open-modal-table",{title:"".concat(t.title,"（基于").concat(t.dateText,"数据分析）"),subTitle:t.areaText,data:i,columns:o})):t.$message({type:"warning",message:"暂无数据"});case 5:case"end":return e.stop()}}),e)})))()},getColumns:function(){return{format:function(t){return Object(D["f"])(t,"元",!0)},columns:[{title:"品类",key:"name",minWidth:120},{title:"均单值",minWidth:100,key:"avg",format:function(t){return Object(D["f"])(t,"元",!0)}}]}}}},ye=ge,xe=(a("7670"),Object(C["a"])(ye,le,ue,!1,null,"66894ce6",null)),Te=xe.exports,Ce=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row-box-wrapper"},[a("RowBox",{attrs:{isWrap:!0,title:"渠道订单数"+t.year+"年累计完成占比",text:"基于"+t.dateText+"数据分析",subTitle:t.areaText,showTip:!1}},[a("div",{staticClass:"r-content"},[a("EchartPie",{attrs:{height:"320",title:t.title,colors:t.colors,data:t.chartData,options:t.options}})],1)])],1)},we=[],_e=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("g-echart-box",{attrs:{empty:0===t.data.length}},[a("div",{ref:"chart",style:t.boxStyle})])},De=[],Oe=(a("fb6a"),a("164e")),ke={props:{title:{type:String,default:"哈哈哈哈"},unit:{type:String,default:""},data:{type:Array,default:function(){return[]}},options:{type:Object,default:function(){return null}},height:{type:[String,Number],default:"200"},radius:{type:Array,default:function(){return[50,90]}},colors:{type:Array,default:function(){return["#4475CA","#5D9BDA","#BCDEFF","#7FBEFF"]}},feed:{type:Boolean,default:!0}},data:function(){return{}},computed:{boxStyle:function(){return{height:this.height+"px",margin:"0 auto"}}},methods:{_initCanvas:function(){var t=this;this.$nextTick((function(){t._initChart()}))},_initChart:function(){if(!this.chart){var t=this.$refs.chart;if(!t)return;this.chart=Oe["init"](t)}var e=this,a={color:this.colors,tooltip:{trigger:"item",formatter:function(t){var a=t.marker,n=t.name,r=t.value,i=t.percent;return"".concat(e.title," </br> ").concat(a," ").concat(n,": ").concat(r," (").concat(i,"%)")}},series:[{type:"pie",radius:this.radius,hoverOffset:4,center:["50%","50%"],data:this.data,label:{formatter:function(t){var a=t.name;return e.feed?a.length<=6?a+"\n"+t.percent+"%":a.length>6&&a.length<=12?"".concat(a.slice(0,6),"\n").concat(a.slice(6)).concat(e.unit," ")+t.percent+"%":a.length>12&&a.length<=18?"".concat(a.slice(0,6),"\n").concat(a.slice(6,12),"\n").concat(a.slice(12)).concat(e.unit," ")+t.percent+"%":a.length>24&&a.length<=30?"".concat(a.slice(0,6),"\n").concat(a.slice(6,12),"\n").concat(a.slice(12,18),"\n").concat(a.slice(24)).concat(e.unit," ")+t.percent+"%":a.length>30?"".concat(a.slice(0,6),"\n").concat(a.slice(6,12),"\n").concat(a.slice(12,18),"\n").concat(a.slice(24,30),"\n").concat(a.slice(30)).concat(e.unit," ")+t.percent+"%":void 0:"".concat(a).concat(e.unit,"\n").concat(t.percent,"%")}},emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.3)"}}}]};this.options&&(a=Object(he["m"])(this.options,a)),this.chart.setOption(a)}},watch:{data:{deep:!0,handler:function(){this._initCanvas()}}}},Le=ke,Se=Object(C["a"])(Le,_e,De,!1,null,"b444db0a",null),Ae=Se.exports,je={components:{RowBox:Et,EchartPie:Ae},props:{chartData:{type:Array,default:function(){return[]}},areaText:String,dateText:String,year:String},data:function(){return{title:"",subTitle:"荆门象山子公司/掇刀战区/天鹅湖门店",colors:[],options:{}}},created:function(){this._initUIView()},methods:{_initUIView:function(){this.colors=["#5B8FF9","#5AD8A6","#5D7092","#F6BD16"].map((function(t){return"".concat(t,"D9")}))},_initOptions:function(){this.options={legend:{show:!1,orient:"vertical",right:0,top:"middle",itemWidth:14,icon:"circle",textStyle:{color:"#8C8C8C"}},series:[{type:"pie",radius:100,hoverOffset:4,center:["50%","50%"],data:this.chartData,label:{show:!0,color:"#595959",formatter:function(t){return"".concat(t.name,"（").concat(t.percent,"%）")}},labelLine:{show:!0}}]}}},watch:{chartData:{handler:function(){this._initOptions()},deep:!0,immediate:!1}}},Ee=je,$e=(a("9534"),Object(C["a"])(Ee,Ce,we,!1,null,"cc368f52",null)),Re=$e.exports,qe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row-box-wrapper"},[a("RowBox",{attrs:{title:t.title,subTitle:t.areaText,text:"（基于"+t.dateText+"数据分析）"},on:{tipClick:t.tipClick}},[a("div",{staticClass:"r-content"},[a("OrderLineChart",{attrs:{xdata:t.xdata,ydata:t.ydata}})],1)])],1)},Fe=[],Be={mixins:[Xt],components:{RowBox:Et,OrderLineChart:be},props:{xdata:Array,ydata:Array,areaText:String,dateText:String,params:Object},data:function(){return{title:"渠道订单数趋势图"}},methods:{tipClick:function(){var t=this;return Object(f["a"])(regeneratorRuntime.mark((function e(){var a,n,r,i,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(0!==t.ydata.length){e.next=2;break}return e.abrupt("return",t.$message({type:"warning",message:"暂无数据"}));case 2:return e.next=4,U(t.params);case 4:a=e.sent,n=t.getColumns(),r=t.formatResTableData(a,n),i=r.data,o=r.columns,t.$bus.$emit("open-modal-table",{title:"".concat(t.title,"（基于").concat(t.dateText,"数据分析）"),subTitle:t.areaText,data:i,columns:o});case 8:case"end":return e.stop()}}),e)})))()},getColumns:function(){return{columns:[{title:"品类",key:"name",minWidth:120},{title:"合计",key:"sum"},{title:"占比",key:"ratio",format:function(t){return Object(D["e"])(t)}}]}}}},Ie=Be,Ne=(a("4733"),Object(C["a"])(Ie,qe,Fe,!1,null,"6815eb78",null)),ze=Ne.exports,We=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row-box-wrapper"},[a("RowBox",{attrs:{title:t.title,text:"（基于"+t.dateText+"数据分析）",subTitle:t.areaText,showTip:!1}},[a("div",{directives:[{name:"g-no-data",rawName:"v-g-no-data",value:0===t.dataList.length,expression:"dataList.length === 0"}],staticClass:"r-content g-relative",attrs:{"g-loading-text":"暂无数据","g-has-text":"true"}},[a("div",{staticClass:"parent"},t._l(t.dataList,(function(e,n){return a("div",{key:n,staticClass:"card-list",style:{"background-image":"-webkit-linear-gradient(left, "+e.color1+","+e.color2+")"}},[a("span",{staticClass:"title"},[t._v(t._s(e.name))]),a("span",{staticClass:"cur"},[t._v(t._s(t.curYear)+"年"+t._s(0===e.survey?e.survey+"元":e.survey))]),a("span",{staticClass:"last"},[t._v(t._s(t.curYear-1)+"年"+t._s(0===e.lastSurvey?e.lastSurvey+"元":e.lastSurvey))])])})),0)])])],1)},Ve=[],Ge={components:{RowBox:Et},props:{areaText:String,dateText:String,dataList:Array,curYear:[Number,String]},data:function(){return{title:"均单值统计"}}},Me=Ge,Ue=(a("8870"),Object(C["a"])(Me,We,Ve,!1,null,"3a8f7141",null)),Ye=Ue.exports;a("b680"),a("07ac");function Ze(t,e){var a=["#5B8FF9","#5AD8A6","#5D7092","#F6BD16","#FF00FF","#20B2AA","#FF6347","#FA8072","#000080","#FFFF00","#D2691E","#EE82EE","#00BFFF","#00FFFF","#008080","#FF69B4","#D8bFD8"],n=[],r=[],i=t.trends.columns;if(i.length&&i.length>0){r=i.map((function(t){return t.name}));var o={};i.forEach((function(t){t.children.forEach((function(t,e){o[t.name]||(o[t.name]={name:t.name,data:r.map((function(){return null})),color:a[e]})}))})),i.forEach((function(t,a){t.children.forEach((function(t){var n=o[t.name];n&&(n.data[a]=e?e(t):parseInt(t.count))}))})),n=Object.values(o)}return{xdata:r,ydata:n}}var Ke={data:function(){return{sellTypeData:{trends:[],year:[],xdata:[],ydata:[],monthList:[]},colorArr:["#5B8FF9","#5AD8A6","#5D7092","#F6BD16"]}},methods:{formatResYearData:function(t){var e=t.year.columns;this.sellTypeData.year=e.map((function(t){return{value:Number(t.count),name:t.name}}))},formatResMonthData:function(t){var e=t.month.columns;e.length&&e.length>0?this.sellTypeData.monthList=e.map((function(t){return{label:t.name,unit:"单",value:t.count,rate:(100*t.percent).toFixed(2)}})):this.sellTypeData.monthList=[]},formatResTrendData:function(t){try{var e=Ze(t),a=e.xdata,n=e.ydata;this.sellTypeData.xdata=a,this.sellTypeData.ydata=n}catch(r){}},_apiGetSellType:function(t){var e=this;return Object(f["a"])(regeneratorRuntime.mark((function a(){var n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,M(t);case 3:n=a.sent,e.formatResYearData(n),e.formatResMonthData(n),e.formatResTrendData(n),a.next=11;break;case 9:a.prev=9,a.t0=a["catch"](0);case 11:case"end":return a.stop()}}),a,null,[[0,9]])})))()}}},He={data:function(){return{countList:[{},{},{}],limitList:[{},{},{}],rankList:[{},{}],amountData:{xdata:[],countList:[],limitList:[]}}},methods:{formatRtorder:function(t){this.formatManageOverView(t),this.formatRankList(t),this.formatAmount(t)},formatManageOverView:function(t){var e=this,a=function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"单";return[Object(l["a"])({label:"".concat(e.year,"年累计完成")},n(t.year,a)),Object(l["a"])({label:"".concat(e.month,"月累计完成")},n(t.month,a)),{label:"环比上月",unit:"%",value:t.lastMonth}]};function n(t,e){var a="元"===e;if(!a)return{value:t,unit:e};var n=Object(D["j"])(t,e);return n}this.countList=a(t.count,"单"),this.limitList=a(t.limit,"元")},formatRankList:function(t){var e=this.getOrderRankKeyList();this.rankList=e.map((function(e){var a=t[e.key].columns.sort((function(t,e){return e.count-t.count})).slice(0,10),n=[],r=[];return a.forEach((function(t,e){n.push(t.name),r.push({value:+t.count,rank:e+1})})),Object(l["a"])(Object(l["a"])({},e),{},{xdata:n,ydata:r})}))},formatAmount:function(t){var e=t.trendLimitRank.columns;e.sort((function(t,e){return t.name.localeCompare(e.name)}));var a=[],n=[],r=[];e.forEach((function(t){a.push(t.name),n.push({value:t.count&&0!==t.count?+t.count:null}),r.push({value:t.value&&0!==t.value?+t.value:null})})),this.amountData={xdata:a,countList:n,limitList:r}},getOrderRankKeyList:function(){var t=[{title:"订单数排名",key:"countRank",api:V,params:this.queryData,columns:[{title:"单位",key:"name",minWidth:120},{title:"合计",key:"sum"},{title:"占比",key:"ratio",format:function(t){return Object(D["e"])(t)}}]},{title:"订单额排名",key:"limitRank",api:G,params:this.queryData,format:function(t){return Object(D["f"])(t,"元",!0)},columns:[{title:"单位",key:"name",minWidth:120},{title:"合计",key:"sum",format:function(t){return Object(D["f"])(t,"元",!0)}},{title:"占比",key:"ratio",format:function(t){return Object(D["e"])(t)}}]}];return t},_apiGetRtorder:function(t){var e=this;return Object(f["a"])(regeneratorRuntime.mark((function a(){var n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,W(t);case 3:n=a.sent,e.formatRtorder(n),a.next=9;break;case 7:a.prev=7,a.t0=a["catch"](0);case 9:case"end":return a.stop()}}),a,null,[[0,7]])})))()}}},Pe={data:function(){return{channelData:{ratio:[],xdata:[],ydata:[]},colorArr:["#5B8FF9","#5AD8A6","#5D7092","#F6BD16"]}},methods:{formatResRatioData:function(t){var e=t.ratio.columns;this.channelData.ratio=e.map((function(t){return{value:Number(t.count),name:t.name}}))},formatChannelTrendData:function(t){var e=Ze(t),a=e.xdata,n=e.ydata;this.channelData.xdata=a,this.channelData.ydata=n},_apiGetSellChannel:function(t){var e=this;return Object(f["a"])(regeneratorRuntime.mark((function a(){var n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Y(t);case 3:n=a.sent,e.formatResRatioData(n),e.formatChannelTrendData(n),a.next=10;break;case 8:a.prev=8,a.t0=a["catch"](0);case 10:case"end":return a.stop()}}),a,null,[[0,8]])})))()}}},Je={data:function(){return{colorArr:["#5B8FF9","#5AD8A6","#5D7092","#F6BD16","magenta","lightseagreen","tomato","salmon","navy","yellow","chocolate","voilet","deepskyblue","cyan","teal","hotpink","thistle"],colorList:[{color1:"#FF966A",color2:"#E8684A"},{color1:"rgba(147,249,208, 1)",color2:"rgba(117,219,178, 1)"},{color1:"rgba(58,188,160, 1)",color2:"rgba(28,158,130, 1)"},{color1:"rgba(209,237,238, 1)",color2:"rgba(179,207,208, 1)"},{color1:"rgba(117,177,187, 1)",color2:"rgba(87,147,157, 1)"},{color1:"rgba(204,78,217, 1)",color2:"rgba(174,48,187, 1)"},{color1:"rgba(109,131,101, 1)",color2:"rgba(79,101,71, 1)"},{color1:"rgba(233,88,198, 1)",color2:"rgba(203,58,168, 1)"},{color1:"rgba(178,248,241, 1)",color2:"rgba(148,218,211, 1)"},{color1:"rgba(208,228,85, 1)",color2:"rgba(178,198,55, 1)"},{color1:"rgba(187,126,232, 1)",color2:"rgba(157,96,202, 1)"},{color1:"rgba(227,182,61, 1)",color2:"rgba(197,152,31, 1)"},{color1:"rgba(110,89,240, 1)",color2:"rgba(80,59,210, 1)"},{color1:"rgba(99,195,50, 1)",color2:"rgba(69,165,20, 1)"},{color1:"rgba(96,209,109, 1)",color2:"rgba(66,179,79, 1)"},{color1:"rgba(249,73,115, 1)",color2:"rgba(219,43,85, 1)"},{color1:"rgba(105,167,139, 1)",color2:"rgba(75,137,109, 1)"},{color1:"rgba(74,61,129, 1)",color2:"rgba(44,31,99, 1)"},{color1:"rgba(156,225,126, 1)",color2:"rgba(126,195,96, 1)"},{color1:"rgba(166,234,73, 1)",color2:"rgba(136,204,43, 1)"},{color1:"rgba(249,243,199, 1)",color2:"rgba(219,213,169, 1)"},{color1:"rgba(142,69,79, 1)",color2:"rgba(112,39,49, 1)"},{color1:"rgba(217,229,112, 1)",color2:"rgba(187,199,82, 1)"},{color1:"rgba(213,216,133, 1)",color2:"rgba(183,186,103, 1)"},{color1:"rgba(115,95,52, 1)",color2:"rgba(85,65,22, 1)"},{color1:"rgba(230,233,96, 1)",color2:"rgba(200,203,66, 1)"},{color1:"rgba(61,239,226, 1)",color2:"rgba(31,209,196, 1)"},{color1:"rgba(61,151,151, 1)",color2:"rgba(31,121,121, 1)"},{color1:"rgba(141,200,235, 1)",color2:"rgba(111,170,205, 1)"},{color1:"rgba(222,125,138, 1)",color2:"rgba(192,95,108, 1)"}],avgData:{xdata:[],ydata:[],dataList:[],unit:"元"}}},methods:{formatAvgGoodData:function(t){var e=this,a=[],n=t.lastSurvey.length,r=t.survey.length,i=n>=r?"lastSurvey":"survey";t[i].columns.forEach((function(t,n){var r=n%e.colorList.length,i={name:t.name,lastSurvey:0,survey:0,color1:e.colorList[r].color1,color2:e.colorList[r].color2};a.push(i)})),a.forEach((function(e){t.lastSurvey.columns.forEach((function(t){e.name===t.name&&(e.lastSurvey=Object(D["f"])(t.value))})),t.survey.columns.forEach((function(t){e.name===t.name&&(e.survey=Object(D["f"])(t.value))}))})),this.avgData.dataList=a},formatAvgGoodTrendData:function(t){var e=Ze(t,(function(t){return+t.percent})),a=e.xdata,n=e.ydata;this.avgData.xdata=a,this.avgData.ydata=n},_apiGetAvgOrderCount:function(t){var e=this;return Object(f["a"])(regeneratorRuntime.mark((function a(){var n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Z(t);case 3:n=a.sent,e.formatAvgGoodData(n),e.formatAvgGoodTrendData(n),a.next=10;break;case 8:a.prev=8,a.t0=a["catch"](0);case 10:case"end":return a.stop()}}),a,null,[[0,8]])})))()}}},Xe=a("60c0"),Qe={mixins:[Ke,He,Pe,Je,Xe["a"]],components:{LayoutContent:o["a"],OrderAnaly:Q,ManageOverview:dt,OrderAmount:Ft,OrderRank:ae,OrderAvgTrend:Te,OrderTypeRate:Re,OrderMonthRate:ce,OrderTypeTrend:ze,OrderAvgStatistics:Ye},data:function(){return{queryData:{},menuActive:"time"}},computed:{areaText:function(){return this.getAreaText()},dateText:function(){return this.getDateText()},year:function(){return this.$day.dayjs(this.queryData.endDate).format("YYYY")},month:function(){return this.$day.dayjs(this.queryData.endDate).format("MM")}},created:function(){this.initUIView()},mounted:function(){this.mixinInitElement()},methods:{initUIView:function(){this.initMenuList()},menuTap:function(t,e){var a=this,n=t.key;this.menuActive=n,this.$nextTick((function(){a.mixinInitElement();var t=a.getScrollIndex(n,e);a.mixinScrollToIndex(t)}))},getScrollIndex:function(t){var e=this.menuList.findIndex((function(e){return e.key===t}));return e},scrollActiveIndex:function(t){var e=this.menuList.map((function(t){return t.key}));this.menuActive=e[t]},getTopList:function(t){var e,a=126,n=[],r=Object(i["a"])(t);try{for(r.s();!(e=r.n()).done;){var o=e.value,s=o.offsetTop-a;n.push(s)}}catch(c){r.e(c)}finally{r.f()}return n},mixinInitElement:function(){var t=this.getManageTopList();this._topList=t},getManageTopList:function(){var t,e=this.menuList,a=[],n=Object(i["a"])(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,o=this.$refs[r.key];a.push(o)}}catch(s){n.e(s)}finally{n.f()}return this.manageTopList=this.getTopList(a),this.manageTopList},initMenuList:function(){this.menuList=[{title:"实时销售统计",key:"time"},{title:"分类销售排名",key:"rank"},{title:"渠道销售分析",key:"analy"},{title:"均单值分析",key:"avg"}]},getElement:function(t){return this.$refs[t]},getAreaText:function(){var t=[this.queryData.customer,this.queryData.warZone,this.queryData.province,this.queryData.area].filter((function(t){return t})),e=t.join("/");return""===e?"集团":e},getDateText:function(){var t=this.$day.format(this.queryData.startDate,"."),e=this.$day.format(this.queryData.endDate,".");return"".concat(t," - ").concat(e)},queryTap:function(t){this.queryData=t,this._apiGetRtorder(t),this._apiGetSellType(t),this._apiGetAvgOrderCount(t)}}},ta=Qe,ea=Object(C["a"])(ta,n,r,!1,null,"1af1aec4",null);e["default"]=ea.exports},bb54:function(t,e,a){},c070:function(t,e,a){},c740:function(t,e,a){"use strict";var n=a("23e7"),r=a("b727").findIndex,i=a("44d2"),o=a("ae40"),s="findIndex",c=!0,l=o(s);s in[]&&Array(1)[s]((function(){c=!1})),n({target:"Array",proto:!0,forced:c||!l},{findIndex:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),i(s)},cae0:function(t,e,a){"use strict";a("c070")},d2e1:function(t,e,a){"use strict";a("bb54")},e2ac:function(t,e,a){"use strict";a("21a7")},e3ed:function(t,e,a){},e866:function(t,e,a){},effa:function(t,e,a){},f185:function(t,e,a){}}]);