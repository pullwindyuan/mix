(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-48b2d8e4"],{"0538":function(t,e,n){"use strict";var a=n("1c0b"),r=n("861d"),i=[].slice,s={},c=function(t,e,n){if(!(e in s)){for(var a=[],r=0;r<e;r++)a[r]="a["+r+"]";s[e]=Function("C,a","return new C("+a.join(",")+")")}return s[e](t,n)};t.exports=Function.bind||function(t){var e=a(this),n=i.call(arguments,1),s=function(){var a=n.concat(i.call(arguments));return this instanceof s?c(e,a.length,a):e.apply(t,a)};return r(e.prototype)&&(s.prototype=e.prototype),s}},"1adf":function(t,e,n){"use strict";n("4160"),n("b64b"),n("ac1f"),n("5319"),n("159b");function a(t){return t.replace(/_(\w)/g,(function(t,e){return e.toUpperCase()}))}function r(){var t={total_operating_revenue:!0,total_operating_cost:!0,operating_profit:!0,total_profit:!0,net_profit:!0,eps:!0,other_composite_income:!0,total_composite_income:!0,exchange_rate_change_effect:!0,cash_equivalent_increase:!0,cash_and_equivalents_at_end:!0},e={};return Object.keys(t).forEach((function(n){var r=a(n);e[r]=t[n]})),e}e["a"]=r()},"257e":function(t,e,n){"use strict";function a(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}n.d(e,"a",(function(){return a}))},"262e":function(t,e,n){"use strict";function a(t,e){return a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},a(t,e)}function r(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}n.d(e,"a",(function(){return r}))},"2caf":function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));n("4ae1"),n("3410");function a(t){return a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},a(t)}n("d3b7"),n("25f0");function r(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var i=n("53ca"),s=n("257e");function c(t,e){return!e||"object"!==Object(i["a"])(e)&&"function"!==typeof e?Object(s["a"])(t):e}function o(t){var e=r();return function(){var n,r=a(t);if(e){var i=a(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return c(this,n)}}},"2ee0":function(t,e,n){"use strict";n.d(e,"e",(function(){return s})),n.d(e,"a",(function(){return c})),n.d(e,"c",(function(){return o})),n.d(e,"b",(function(){return u})),n.d(e,"d",(function(){return l}));n("99af"),n("b0c0");var a=n("bc3a"),r=n.n(a),i=n("f121");function s(t){var e="/file/token";return r.a.get(e,{params:{type:t}})}function c(t){var e="/excel/financeTemplate/export?myCompanyId=".concat(t.myCompanyId,"&type=").concat(t.type),n=t.name;return r()({method:"post",url:e,responseType:"blob",name:n})}function o(){var t=i["a"].base_url+"/excel/financeTemplate";return t}function u(t){var e="/excel/downloadTemplate?type=".concat(t.type);return r()({method:"post",url:e,responseType:"blob",name:t.name})}function l(){var t=i["a"].base_url+"/excel/importExcel";return t}},3410:function(t,e,n){var a=n("23e7"),r=n("d039"),i=n("7b0b"),s=n("e163"),c=n("e177"),o=r((function(){s(1)}));a({target:"Object",stat:!0,forced:o,sham:!c},{getPrototypeOf:function(t){return s(i(t))}})},"4ae1":function(t,e,n){var a=n("23e7"),r=n("d066"),i=n("1c0b"),s=n("825a"),c=n("861d"),o=n("7c73"),u=n("0538"),l=n("d039"),f=r("Reflect","construct"),p=l((function(){function t(){}return!(f((function(){}),[],t)instanceof t)})),d=!l((function(){f((function(){}))})),h=p||d;a({target:"Reflect",stat:!0,forced:h,sham:h},{construct:function(t,e){i(t),s(e);var n=arguments.length<3?t:i(arguments[2]);if(d&&!p)return f(t,e,n);if(t==n){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var a=[null];return a.push.apply(a,e),new(u.apply(t,a))}var r=n.prototype,l=o(c(r)?r:Object.prototype),h=Function.apply.call(t,l,e);return c(h)?h:l}})},6044:function(t,e,n){"use strict";n.r(e);n("96cf");var a=n("1da1"),r=n("d4ec"),i=n("bee2"),s=n("262e"),c=n("2caf"),o=n("9383"),u=n("f4dd"),l=function(t){Object(s["a"])(n,t);var e=Object(c["a"])(n);function n(){return Object(r["a"])(this,n),e.call(this)}return Object(i["a"])(n,[{key:"getValues",value:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.getOptions({api:u["j"],valueKey:"industryCode",labelKey:"industryName"});case 2:return e=t.sent,t.abrupt("return",e);case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()}]),n}(o["default"]);e["default"]=new l},"6da7":function(t,e,n){},7543:function(t,e,n){"use strict";n("be5d")},"7db0":function(t,e,n){"use strict";var a=n("23e7"),r=n("b727").find,i=n("44d2"),s=n("ae40"),c="find",o=!0,u=s(c);c in[]&&Array(1)[c]((function(){o=!1})),a({target:"Array",proto:!0,forced:o||!u},{find:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),i(c)},9383:function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return l}));n("96cf");var a=n("1da1"),r=n("d4ec"),i=n("bee2"),s=n("262e"),c=n("2caf"),o=n("c824"),u=n("f348"),l=function(t){Object(s["a"])(n,t);var e=Object(c["a"])(n);function n(){return Object(r["a"])(this,n),e.call(this)}return Object(i["a"])(n,[{key:"getOptions",value:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(e){var n,a,r,i,s,c,o,l;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.params,a=e.api,r=e.valueKey,i=e.labelKey,s=e.others,t.prev=1,t.next=4,a(n);case 4:return c=t.sent,this.handleResdata&&(c=this.handleResdata(c)),o=Object(u["b"])(c,r,i,s),l=Object(u["a"])(c,r),t.abrupt("return",{options:o,optionsData:l});case 11:return t.prev=11,t.t0=t["catch"](1),t.abrupt("return",{options:[],optionsData:{}});case 14:case"end":return t.stop()}}),t,this,[[1,11]])})));function e(e){return t.apply(this,arguments)}return e}()},{key:"beforeUpdate",value:function(){this.__cacheData&&0!==this.__cacheData.options.length||this.update()}}]),n}(o["default"])},9517:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"financial-page"},[n("StepPreview")],1)},r=[],i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"table-p"},[n("div",{staticClass:"t-control"},[n("el-button-group",{staticClass:"g-date-btn-group"},[n("el-button",{staticClass:"c-btn",class:0===t.seasonType?"active":"",attrs:{size:"mini"},on:{click:function(e){return t.setSeasonType(0)}}},[t._v("月报")]),n("el-button",{staticClass:"c-btn",class:1===t.seasonType?"active":"",attrs:{size:"mini",type:"primary"},on:{click:function(e){return t.setSeasonType(1)}}},[t._v("季报")]),n("el-button",{staticClass:"c-btn",class:2===t.seasonType?"active":"",attrs:{size:"mini"},on:{click:function(e){return t.setSeasonType(2)}}},[t._v("年报")])],1),n("div",{staticClass:"submit-box",on:{click:t.submitTap}},[n("span",[t._v("进入分析")]),n("i",{staticClass:"icon el-icon-arrow-right"})])],1),n("div",{staticClass:"func-box"},[n("g-tabs2",{attrs:{active:t.active,lineBottom:-11,padding:10,borderColor:"transparent",data:t.tabList,height:14,step:0},on:{itemTap:t.tabTap}}),n("div",{staticClass:"r-wrap"},[n("div",{directives:[{name:"show",rawName:"v-show",value:!t.edit,expression:"!edit"}],staticClass:"industry-box"},[n("div",{staticClass:"step-label"},[t._v("所属行业")]),n("div",{staticClass:"step-input"},[n("el-select",{staticStyle:{width:"100%"},attrs:{size:"mini",placeholder:"请选择行业",filterable:""},on:{change:function(e){return t.changeIndustry()}},model:{value:t.industryCode,callback:function(e){t.industryCode=e},expression:"industryCode"}},t._l(t.options,(function(t){return n("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1)]),n("div",{staticClass:"down-upload-box"},[n("div",{staticClass:"info-btn btn1"},[n("el-button",{staticClass:"href-a",attrs:{loading:t.loading2},on:{click:function(e){return t.downloadTap(t.seasonType)}}},[t._v("下载报表模板")])],1),n("div",{staticClass:"info-btn btn2"},[n("g-upload",{attrs:{data:{myCompanyId:t.yanshiInfo.companyId},action:t.action},on:{"on-success":t.success}},[n("div",{staticClass:"href-a upload-t"},[t._v("导入财务报表")])])],1)]),n("div",{staticClass:"t-unit"},[t._v("货币单位：元")]),n("el-button",{directives:[{name:"show",rawName:"v-show",value:t.edit,expression:"edit"}],attrs:{type:"default",size:"mini"},on:{click:t.hideEdit}},[t._v("取消")]),n("el-button",{staticClass:"t-submit",attrs:{type:"primary",size:"mini"},on:{click:t.taggleEdit}},[t._v(" "+t._s(t.edit?"保存":"编辑")+" ")])],1)],1),n("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"g-map-loading finance-table",attrs:{"element-loading-background":"rgba(0, 0, 0, 0.7)","element-loading-spinner":"el-icon-loading"}},[n("FlexTable",{attrs:{season:t.seasonType,format:"newothers"!==t.active,edite:t.edit,data:t.data,column:t.column}})],1)])},s=[],c=(n("7db0"),n("96cf"),n("1da1")),o=n("5530"),u=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"app-flex-table g-change-input-number-box"},[n("div",{staticClass:"left-div",on:{mouseenter:function(e){return t.mouseenter("left")}}},[n("div",{staticClass:"left-div1"},[t._v("项目")]),n("div",{ref:"moveTopEl",staticClass:"left-div2 nice-scroll",on:{scroll:t.moveLeft}},t._l(t.data,(function(e){return n("div",{key:e.id,class:["left-table2",t.titleBold[e.columnName]||"class"===e.type?"bold":""]},[n("pre",[t._v(t._s(e.name))])])})),0)]),n("div",{staticClass:"right-div",on:{mouseenter:function(e){return t.mouseenter("right")}}},[n("div",{ref:"moveLeftEl",staticClass:"right-div1"},[n("div",{staticClass:"lineTime"},[t._v("行次")]),t._l(t.topLeft,(function(e){return n("div",{key:e.key,staticClass:"right-div1-item"},[t._v(" "+t._s(t.getTitle(e))+" ")])}))],2),n("div",{ref:"right2",staticClass:"right-div2 nice-scroll",on:{scroll:t.move}},[n("div",{staticClass:"right-div2-table"},[t.readOnly?[n("div",t._l(t.data,(function(e){return n("div",{key:e.id},[e.changes?n("div",{staticClass:"right-div2-table"},[n("div",{staticClass:"right-div2-table-item timeLine"},[t._v(" "+t._s(e.lineTime)+" ")]),t._l(t.topLeft,(function(a){return n("div",{key:a.key,staticClass:"right-div2-table-item"},[n("span",[t._v(t._s(t.formatValue(e.changes[a.key])))])])}))],2):n("div",{staticClass:"right-div2-table-blank",style:{width:t.rWidth+"px"}})])})),0)]:[n("div",t._l(t.data,(function(e){return n("div",{key:e.id},[e.changes?n("div",{staticClass:"right-div2-table"},[n("div",{staticClass:"right-div2-table-item timeLine"},[t._v(" "+t._s(e.lineTime)+" ")]),t._l(t.topLeft,(function(a){return n("div",{key:a.key,staticClass:"right-div2-table-item"},[n("span",{directives:[{name:"show",rawName:"v-show",value:!t.edite,expression:"!edite"}]},[t._v(t._s(t.formatValue(e.changes[a.key])))]),n("input",{directives:[{name:"show",rawName:"v-show",value:t.edite,expression:"edite"},{name:"model",rawName:"v-model",value:e.changes[a.key],expression:"item.changes[vitem.key]"}],staticClass:"table-item-input",attrs:{type:"number",size:"normal"},domProps:{value:e.changes[a.key]},on:{input:function(n){n.target.composing||t.$set(e.changes,a.key,n.target.value)}}})])}))],2):n("div",{staticClass:"right-div2-table-blank",style:{width:t.rWidth+"px"}})])})),0)]],2)])])])},l=[],f=(n("fb6a"),n("a9e3"),n("ac1f"),n("5319"),n("f348")),p=n("1adf"),d={props:{column:{type:Array,default:function(){return[]}},data:{type:Array,default:function(){return[]}},season:{type:Number,default:1},edite:{type:Boolean,default:!1},readOnly:{type:Boolean,default:!1},format:{type:Boolean,default:!0}},data:function(){return{titleBold:p["a"]}},computed:{topLeft:function(){return this.column.slice(2)},rWidth:function(){var t=this.column.length-2;return t>0?150*t+100:0}},methods:{getTitle:function(t){return 2===this.season?t.title:1===this.season?t.title.replace(/_/,"年")+"季度":t.title.replace(/_/,"年")+"月"},mouseenter:function(t){this.enterType=t},move:function(t){if("left"!==this.enterType){this.leftEl||(this.leftEl=this.$refs.moveLeftEl),this.topEl||(this.topEl=this.$refs.moveTopEl);var e=t.target.scrollLeft,n=t.target.scrollTop;this.leftEl.style.transform="translateX(".concat(-e,"px)"),this.topEl.scrollTop=n}},moveLeft:function(t){if("right"!==this.enterType){this.topEl2||(this.topEl2=this.$refs.right2);var e=t.target.scrollTop;this.topEl2.scrollTop=e}},formatValue:function(t){return this.format?""===t||null===t?"":Object(f["f"])(t):t}}},h=d,v=(n("a7ee"),n("2877")),m=Object(v["a"])(h,u,l,!1,null,"742146b3",null),b=m.exports,y=(n("99af"),n("4160"),n("d81d"),n("b0c0"),n("b64b"),n("159b"),n("b85c")),g=n("cd05"),w={data:function(){return{newdebtData:[],newdebt:null,newprofit:null,newprofitData:[],newcash:null,newcashData:[],newothersData:[],newothers:null,active:"",loading:!1,seasonType:!1,typeList:["month","season","year"]}},computed:{tableColunm:function(){return this.column.slice(2)}},methods:{queryTap:function(){this.queryData.companyId&&(this.getXlsx2data(),this.getFinanceData())},getXlsx2data:function(){this._apiGetFinanceTempalte({type:this.active})},getFinanceData:function(){var t=this.queryData.companyId,e={myCompanyId:t,type:this.typeList[this.seasonType]};switch(this.active){case"newdebt":this._apiGetFinanceDebtSearch(e);break;case"newprofit":this._apiGetFinanceProfitSearch(e);break;case"newcash":this._apiGetFinanceCashSearch(e);break;default:this._apiGetFinanceOthersSearch(e);break}},formatReqdata:function(t,e){var n,a=this,r=null,i=Object(y["a"])(t);try{var s=function(){var t=n.value,e=t.changes;e&&(r||(r={},Object.keys(e).forEach((function(t){r[t]={date:t,type:a.typeList[a.seasonType]}}))),Object(f["c"])(e,(function(e,n){if(""!==e){if(isNaN(Number(e)))throw a.$Message.error({content:"".concat(n," ").concat(t.name," 输入数据非数字格式"),duration:4}),new Error("输入数据存在非数字格式提示");r[n][t.columnName]=e}})))};for(i.s();!(n=i.n()).done;)s()}catch(o){i.e(o)}finally{i.f()}var c=Object.keys(r).map((function(t){return r[t]}));return{data:c,myCompanyId:e,type:this.typeList[this.seasonType]}},formatColumn:function(t){var e=this,n=this[t],a=this["".concat(t,"Data")];if(n){this.unit=n.unit;var r,i=["monthdateString","seasondateString","dateString"],s=n[i[this.seasonType]],c=[{title:"项目",key:"name",width:354},{title:"行次",key:"lineTime",width:100}],u=Object(y["a"])(s);try{for(u.s();!(r=u.n()).done;){var l=r.value;c.push({title:l,key:l})}}catch(b){u.e(b)}finally{u.f()}var f,p={},d=Object(y["a"])(a);try{for(d.s();!(f=d.n()).done;){var h=f.value;p[h.date]=h}}catch(b){d.e(b)}finally{d.f()}var v=0,m=n.children.map((function(t){var n=t.columnName;if(""===n)return Object(o["a"])(Object(o["a"])({},t),{},{lineTime:""});v++,t.changes={},t.columnName=e.transformStr3(n),t.lineTime=v;var a,r=Object(y["a"])(s);try{for(r.s();!(a=r.n()).done;){var i=a.value,c=p[i];t.changes[i]=c&&c[t.columnName]||""}}catch(b){r.e(b)}finally{r.f()}return t}));this.column=c,this.data=m}},transformStr3:function(t){return t.replace(/_(\w)/g,(function(t,e){return e.toUpperCase()}))},_apiGetFinanceTempalte:function(t){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function n(){var a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return e[t.type]=null,n.prev=1,n.next=4,Object(g["i"])(t);case 4:a=n.sent,e[t.type]=a,e.formatColumn(t.type),n.next=11;break;case 9:n.prev=9,n.t0=n["catch"](1);case 11:case"end":return n.stop()}}),n,null,[[1,9]])})))()},_apiGetFinanceDebtSearch:function(t){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function n(){var a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,e.loading=!0,n.next=4,Object(g["f"])(t);case 4:a=n.sent,e.newdebtData=a,e.formatColumn("newdebt"),n.next=11;break;case 9:n.prev=9,n.t0=n["catch"](0);case 11:e.loading=!1;case 12:case"end":return n.stop()}}),n,null,[[0,9]])})))()},_apiGetFinanceProfitSearch:function(t){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function n(){var a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,e.loading=!0,n.next=4,Object(g["h"])(t);case 4:a=n.sent,e.newprofitData=a,e.formatColumn("newprofit"),n.next=11;break;case 9:n.prev=9,n.t0=n["catch"](0);case 11:e.loading=!1;case 12:case"end":return n.stop()}}),n,null,[[0,9]])})))()},_apiGetFinanceCashSearch:function(t){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function n(){var a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,e.loading=!0,n.next=4,Object(g["e"])(t);case 4:a=n.sent,e.newcashData=a,e.formatColumn("newcash"),n.next=11;break;case 9:n.prev=9,n.t0=n["catch"](0);case 11:e.loading=!1;case 12:case"end":return n.stop()}}),n,null,[[0,9]])})))()},_apiGetFinanceOthersSearch:function(t){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function n(){var a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,e.loading=!0,n.next=4,Object(g["g"])(t);case 4:a=n.sent,e.newothersData=a,e.formatColumn("newothers"),n.next=11;break;case 9:n.prev=9,n.t0=n["catch"](0);case 11:e.loading=!1;case 12:case"end":return n.stop()}}),n,null,[[0,9]])})))()}}},_=n("f3c0"),O=n("fcac"),k=n("2f62"),x={computed:Object(o["a"])({},Object(k["c"])(["yanshiInfo"])),methods:Object(o["a"])(Object(o["a"])({mixinHandleResult:function(t){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:e.$message({type:"success",message:"操作成功"}),t&&(e.setYanshiInfo(Object(o["a"])(Object(o["a"])({},t),{},{companyId:t.id,unipo:e.yanshiInfo.unipo})),e.setMindInfo(Object(o["a"])(Object(o["a"])({},t),{},{companyId:t.id,unipo:e.yanshiInfo.unipo})));case 2:case"end":return n.stop()}}),n)})))()},_apiEditCompany:function(t){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function n(){var a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,e.loading=!0,n.next=4,Object(O["b"])(t);case 4:a=n.sent,e.mixinHandleResult(a),n.next=10;break;case 8:n.prev=8,n.t0=n["catch"](0);case 10:e.loading=!1;case 11:case"end":return n.stop()}}),n,null,[[0,8]])})))()}},Object(k["b"])(["asyncSetStepFlag"])),Object(k["d"])(["setYanshiInfo","setMindInfo"]))},C=n("6044"),j=n("2ee0"),T={mixins:[w,_["a"],x],components:{FlexTable:b},data:function(){return{industryCode:"",tabList:[],queryData:{companyId:""},column:[],data:[],edit:!1,active:"",seasonType:1,loading2:!1,action:Object(j["c"])(),options:[]}},computed:Object(o["a"])({},Object(k["c"])(["yanshiInfo"])),created:function(){this._initUIView()},methods:Object(o["a"])({downloadTap:function(t){var e=["month","season","year"],n=["月度数据模版.xlsx","财务数据季报模版.xlsx","财务数据年报模版.xlsx"];this._apiDownLoadTemplate({myCompanyId:this.yanshiInfo.companyId,type:e[t],name:n[t]})},success:function(){this.queryTap(),this.refreshYanshiInfoAsync()},_apiDownLoadTemplate:function(t){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,e.loading2=!0,n.next=4,Object(j["a"])(t);case 4:n.next=8;break;case 6:n.prev=6,n.t0=n["catch"](0);case 8:e.loading2=!1;case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))()},changeIndustry:function(){var t=this;if(""===this.industryCode)return this.$message({type:"warning",message:"请选择行业"});var e=this.yanshiInfo.companyId,n=this.options.find((function(e){return e.value===t.industryCode})).label;this._apiEditCompany({id:e,industryCode:this.industryCode,industryName:n})},submitTap:function(){if(!this.mixinDatePower)return this.$message.warning({message:" 需导入至少4个季度财报或4个年度财报后，AI才能进行相关分析!"});this.$router.push("/home/risk-warning")},queryTap:function(){this.queryData.companyId&&this.yanshiInfo.unipo&&(this.getXlsx2data(),this.getFinanceData())},tabTap:function(t){this.active=t.key,this.queryTap()},setSeasonType:function(t){this.seasonType!==t&&(this.seasonType=t,this.queryTap())},hideEdit:function(){this.edit=!1},taggleEdit:function(){if(this.edit)return this.saveTap();this.edit=!0},saveTap:function(){var t={newcash:g["a"],newprofit:g["d"],newdebt:g["b"],newothers:g["c"]};this.apiSave=t[this.active];var e=this.formatReqdata(this.data,this.queryData.companyId);this._apiSave(e)},_initUIView:function(){this._initTabList(),this._initOptions(),this._initCompany()},_initCompany:function(){this.queryData.companyId=this.yanshiInfo.companyId,this.tabTap(this.tabList[0])},_initTabList:function(){this.tabList=[{title:"利润表",key:"newprofit"},{title:"现金流量表",key:"newcash"},{title:"资产负债表",key:"newdebt"},{title:"其他数据",key:"newothers"}]},_initOptions:function(){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function e(){var n,a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,C["default"].init();case 2:n=e.sent,a=n.options,r=n.optionsData,t.options=a,t.optionsData=r,t.industryCode=t.yanshiInfo.industryCode;case 8:case"end":return e.stop()}}),e)})))()},_apiSave:function(t){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,e.loading=!0,n.next=4,e.apiSave(t);case 4:e.$message({type:"success",message:"保存成功"}),e.edit=!1,e.refreshYanshiInfoAsync(),n.next=11;break;case 9:n.prev=9,n.t0=n["catch"](0);case 11:e.loading=!1;case 12:case"end":return n.stop()}}),n,null,[[0,9]])})))()}},Object(k["b"])(["refreshYanshiInfoAsync"]))},I=T,R=(n("9e89"),Object(v["a"])(I,i,s,!1,null,"55c3baaa",null)),D=R.exports,E={components:{StepPreview:D},data:function(){return{active:"StepPreview"}},methods:{}},S=E,L=(n("7543"),Object(v["a"])(S,a,r,!1,null,"e311f5b8",null));e["default"]=L.exports},"9e89":function(t,e,n){"use strict";n("bf3e")},a7ee:function(t,e,n){"use strict";n("6da7")},be5d:function(t,e,n){},bf3e:function(t,e,n){},cd05:function(t,e,n){"use strict";n.d(e,"i",(function(){return i})),n.d(e,"e",(function(){return s})),n.d(e,"a",(function(){return c})),n.d(e,"h",(function(){return o})),n.d(e,"d",(function(){return u})),n.d(e,"f",(function(){return l})),n.d(e,"b",(function(){return f})),n.d(e,"g",(function(){return p})),n.d(e,"c",(function(){return d})),n.d(e,"j",(function(){return h}));var a=n("bc3a"),r=n.n(a);function i(t){var e="/query";return r.a.post(e,t)}function s(t){var e="/finance/cash/search";return r.a.post(e,t)}function c(t){var e="/finance/cash";return r.a.post(e,t)}function o(t){var e="/finance/profit/search";return r.a.post(e,t)}function u(t){var e="/finance/profit";return r.a.post(e,t)}function l(t){var e="/finance/debt/search";return r.a.post(e,t)}function f(t){var e="/finance/debt";return r.a.post(e,t)}function p(t){var e="/finance/others/search";return r.a.post(e,t)}function d(t){var e="/finance/others";return r.a.post(e,t)}function h(t){var e="/finance/".concat(t.companyId);return r.a.get(e)}},f3c0:function(t,e,n){"use strict";var a=n("5530"),r=n("2f62");e["a"]={computed:Object(a["a"])({mixinDatePower:function(){return this.yanshiInfo.seasonDataFlag||this.yanshiInfo.yearDataFlag}},Object(r["c"])(["yanshiInfo"]))}},f4dd:function(t,e,n){"use strict";n.d(e,"j",(function(){return i})),n.d(e,"i",(function(){return s})),n.d(e,"h",(function(){return c})),n.d(e,"g",(function(){return o})),n.d(e,"a",(function(){return u})),n.d(e,"e",(function(){return l})),n.d(e,"l",(function(){return f})),n.d(e,"k",(function(){return p})),n.d(e,"f",(function(){return d})),n.d(e,"d",(function(){return h})),n.d(e,"c",(function(){return v})),n.d(e,"b",(function(){return m}));var a=n("bc3a"),r=n.n(a);function i(){var t="/case/industry";return r.a.post(t)}function s(t){var e="/finance/getIndex";return r.a.post(e,t)}function c(t,e){var n="/case/list/page";return r.a.post(n,t,{cancelToken:e?new r.a.CancelToken((function(t){e.c=t})):null})}function o(t,e){var n="/case/list/dialog";return r.a.post(n,t,{cancelToken:e?new r.a.CancelToken((function(t){e.c=t})):null})}function u(t){var e="/company/history/batch";return r.a.post(e,t)}function l(t){var e="/case/riskroi/history";return r.a.post(e,t)}function f(t){var e="/case/risk/suggest/".concat(t.companyId);return r.a.get(e)}function p(t){var e="/case/risk/distribution";return r.a.post(e,t,{hideError:!0})}function d(t){var e="/case/risk";return r.a.post(e,t)}function h(t){var e="/case/bi/factor";return r.a.post(e,t)}function v(t){var e="/dataModel/getBiIndexData";return r.a.post(e,t)}function m(t){var e="/dataModel/getBiReport";return r.a.post(e,t)}}}]);