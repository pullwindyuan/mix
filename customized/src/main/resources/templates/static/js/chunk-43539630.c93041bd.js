(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-43539630"],{"1c31":function(t,e,a){"use strict";a.d(e,"p",(function(){return r})),a.d(e,"y",(function(){return s})),a.d(e,"q",(function(){return o})),a.d(e,"r",(function(){return c})),a.d(e,"x",(function(){return u})),a.d(e,"n",(function(){return l})),a.d(e,"e",(function(){return d})),a.d(e,"l",(function(){return p})),a.d(e,"a",(function(){return f})),a.d(e,"d",(function(){return m})),a.d(e,"g",(function(){return v})),a.d(e,"h",(function(){return h})),a.d(e,"j",(function(){return x})),a.d(e,"k",(function(){return y})),a.d(e,"i",(function(){return C})),a.d(e,"s",(function(){return b})),a.d(e,"z",(function(){return g})),a.d(e,"t",(function(){return F})),a.d(e,"w",(function(){return k})),a.d(e,"u",(function(){return I})),a.d(e,"f",(function(){return T})),a.d(e,"c",(function(){return w})),a.d(e,"b",(function(){return M})),a.d(e,"m",(function(){return _})),a.d(e,"o",(function(){return B})),a.d(e,"v",(function(){return D}));a("99af");var n=a("bc3a"),i=a.n(n);function r(t){var e="/case/risk/construction";return i.a.post(e,t)}function s(t){var e="/case/risk/single/construction";return i.a.post(e,t)}function o(t){var e="/case/risk/industry/dis";return i.a.post(e,t)}function c(t){var e="/case/risk/industry/quarter";return i.a.post(e,t)}function u(t){var e="/case/risk/industry/range/"+t;return i.a.post(e)}function l(t){var e="/case/bi/factor/history";return i.a.post(e,t)}function d(t){var e="/case/finance/bench";return i.a.post(e,t)}function p(t){var e="/dataModel/getDuPoint";return i.a.post(e,t)}function f(t){var e="/case/competitive/radar";return i.a.post(e,t)}function m(){var t="/case/competitive/industry";return i.a.get(t)}function v(t){var e="/case/riskvalue";return i.a.post(e,t)}function h(t){var e="/case/riskvalue/input";return i.a.post(e,t)}function x(t){var e="/case/value/eight";return i.a.post(e,t)}function y(t){var e="/case/value/industry/".concat(t.industryCode);return i.a.post(e,t)}function C(t){var e="/case/value/dis/".concat(t.industryCode);return i.a.post(e,t)}function b(t){var e=t.type,a=t.date,n=t.companyId,r="/scoreModel/portrait/".concat(e,"/").concat(a,"/").concat(n);return i.a.get(r)}function g(){var t="/scoreModel/index/subscore";return i.a.get(t)}function F(t){var e="/scoreModel/industry/order";return i.a.post(e,t)}function k(t){var e="/scoreModel/company/scoreTop";return i.a.post(e,t)}function I(t){var e="/scoreModel/company/scoreList";return i.a.post(e,t)}function T(t){var e="/case/risk/rank";return i.a.post(e,t)}function w(t){var e="/dataModel/getBiReportByQuarter";return i.a.post(e,t)}function M(t){var e="/dataModel/getBiIndexDataByQuarter";return i.a.post(e,t)}function _(t){var e="/case/bi/factor/history";return i.a.post(e,t)}function B(t){var e="/case/industry/location";return i.a.post(e,t)}function D(t){var e="/scoreModel/rank";return i.a.post(e,t)}},"1d08":function(t,e,a){"use strict";a("8dc7")},3936:function(t,e,a){},6612:function(t,e,a){"use strict";a("99af"),a("b0c0"),a("96cf");var n=a("1da1"),i=a("5530"),r=a("6c6e"),s=a("2f62"),o={irr:{component:"IRRElement",name:"内部收益率分析IRR",height:805},dcf:{component:"DCFElement",name:"现金流折现分析DCF",height:529},dbfx:{component:"DBFXElement",name:"杜邦分析DUPONT",height:1109},"risk-value":{component:"RiskValueElement",height:565,data:{wacc:{title:"加权资本成本分析WACC"},capm:{title:"资本资产定价分析CAPM"},beta:{title:"贝塔系数分析Beta"},unleveredBeta:{title:"剔除财务杠杆风险系数分析UBeta"},erp:{title:"股票风险溢价分析ERP"}}},forecast:{component:"ForecastElement",name:"AI销售预测",height:792},finance:{component:"FinanceForecastElement",name:"财报预测",height:485}},c=a("c598");e["a"]={data:function(){return{materialLoading:!1}},computed:Object(i["a"])({mixinBiLike:function(){var t=this.mixinGetBiMaterialId(),e=this.materialData[t];return e},mixinFinanceLike:function(){var t=this.mixinGetFinanceMaterialId(),e=this.materialData[t];return e},mixinForecastLike:function(){var t=this.mixinGetForecastMaterialId(),e=this.materialData[t];return e},mixinFinaceForecastLike:function(){var t=this.mixinGetFinanceForecastMaterialId(),e=this.materialData[t];return e}},Object(s["c"])(["userInfo","materialData"])),methods:Object(i["a"])({mixinAddBiMaterial:function(){var t=this.mixinCreateBiVnode(this.queryData);this.saveMaterialTap(t)},mixinAddFinanceMaterial:function(){var t=this.mixinCreateFinanceVnode(o[this.$options.name]);this.saveMaterialTap(t)},mixinAddForecastMaterial:function(){var t=this.mixinCreateForecastVnode(o[this.$options.name]);this.saveMaterialTap(t)},mixinAddFinanceForecastMaterial:function(){var t=this.mixinCreateFinanceForecastVnode(o[this.$options.name]);this.saveMaterialTap(t)},mixinCreateBiVnode:function(t){var e=t.hideIndustry?"":"收入比同本行业趋势对比",a="".concat(t.name).concat(e,"（").concat(t.repName,"）"),n={type:"bi",externalId:"BiElement",createdBy:this.userInfo.id,title:a,extra:{mId:this.mixinGetBiMaterialId(),data:{reportType:t.reportType,name:t.name,indexId:t.indexId},style:{height:470}}};return n.extra=JSON.stringify(n.extra),n},mixinGetBiMaterialId:function(){var t=this.queryData;return"m-".concat(t.reportType,"-").concat(t.indexId)},mixinCreateFinanceVnode:function(t){var e="",a="";this.type&&(e=t.data,a=e[this.type].title);var n="risk-value"===this.$options.name?a:t.name,i={type:"bi",externalId:t.component,createdBy:this.userInfo.id,title:n,extra:{mId:this.mixinGetFinanceMaterialId(),data:{type:this.type},style:{height:t.height}}};return i.extra=JSON.stringify(i.extra),i},mixinGetFinanceMaterialId:function(){var t=this.$options.name,e="";return e="risk-value"!==t?t:this.type,e},mixinCreateForecastVnode:function(t){var e=t.name,a={type:"bi",externalId:t.component,createdBy:this.userInfo.id,title:e,extra:{mId:this.mixinGetForecastMaterialId(),data:{mForecast:this.forecast,mDateText:this.dateText,mForecastRate:this.forecastRate},style:{height:t.height}}};return a.extra=JSON.stringify(a.extra),a},mixinGetForecastMaterialId:function(){return this.$options.name},mixinCreateFinanceForecastVnode:function(t){var e=t.name,a={type:"forecastFinance",externalId:t.component,createdBy:this.userInfo.id,title:e,extra:{mId:this.mixinGetFinanceForecastMaterialId(),data:{fExtendColumn:this.extendColumn,fPdata:this.pdata,fGoalData:this.goalData,fDateText:this.dateText,fLoading:this.loading,fYear:this.year},style:{height:t.height}}};return a.extra=JSON.stringify(a.extra),a},mixinGetFinanceForecastMaterialId:function(){return this.$options.name},saveMaterialTap:function(t){this.materialLoading||this._apiAddResourceTpl(t)},_apiAddResourceTpl:function(t){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,e.materialLoading=!0,a.next=4,Object(r["c"])(t);case 4:e.$message({type:"success",message:"操作成功"}),c["a"].$emit("changeMaterialData"),e.asyncSetMaterialData(),a.next=11;break;case 9:a.prev=9,a.t0=a["catch"](0);case 11:e.materialLoading=!1;case 12:case"end":return a.stop()}}),a,null,[[0,9]])})))()}},Object(s["b"])(["asyncSetMaterialData"]))}},6877:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"dcf-page"},[t.showHeader?a("div",{staticClass:"header-title"},[a("span",[t._v("现金流折现分析DCF")])]):t._e(),a("div",{staticClass:"main"},[a("div",{staticClass:"opers"},[a("CustomSave",{attrs:{like:t.mixinFinanceLike},on:{saveTap:t.mixinAddFinanceMaterial}})],1),a("div",{staticClass:"row"},[a("div",{staticClass:"label"},[t._v("初始投入资金")]),a("div",{staticClass:"value"},[a("InputNumberBox",{staticClass:"input",attrs:{type:"number",size:"medium",placeholder:"请输入数值"},model:{value:t.data.investment,callback:function(e){t.$set(t.data,"investment",e)},expression:"data.investment"}},[a("div",{staticClass:"suffix",attrs:{slot:"append"},slot:"append"},[t._v("元")])]),a("div",{staticClass:"value-row"},[a("div",{staticClass:"value-label"},[t._v("折现率")]),a("div",{staticClass:"value"},[a("InputNumberBox",{staticClass:"input",attrs:{type:"number",size:"medium",placeholder:"请输入折现率"},model:{value:t.data.discount,callback:function(e){t.$set(t.data,"discount",e)},expression:"data.discount"}},[a("div",{staticClass:"suffix",attrs:{slot:"append"},slot:"append"},[t._v("%")])])],1)])],1)]),a("div",{staticClass:"row"},[a("div",{staticClass:"label"},[t._v("产生的现金流")]),a("div",{staticClass:"value"},[t._l(t.data.flow,(function(e,n){return a("InputNumberBox",{key:n,staticClass:"input",attrs:{controlDelete:"",type:"number",size:"medium",placeholder:"请输入数值"},on:{deleteTap:function(e){return t.deleteTap(n)}},model:{value:t.data.flow[n],callback:function(e){t.$set(t.data.flow,n,e)},expression:"data.flow[index]"}},[a("div",{staticClass:"prefix",attrs:{slot:"prepend"},slot:"prepend"},[t._v("第"+t._s(n+1)+"年")]),a("div",{staticClass:"suffix",attrs:{slot:"append"},slot:"append"},[t._v("元")])])})),a("div",{staticClass:"add-box",on:{click:t.addTap}},[t._m(0),a("span",{staticClass:"i-text"},[t._v("添加项")])])],2)]),a("div",{staticClass:"row"},[a("div",{staticClass:"label"},[t._v("现金流折现值")]),a("div",{staticClass:"value"},[a("InputNumberBox",{staticClass:"input",attrs:{type:"number",size:"medium",grey:!0,placeholder:"",controlClear:!1,disabled:""},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}},[a("div",{staticClass:"suffix",attrs:{slot:"append"},slot:"append"},[t._v("元")])]),a("div",{staticClass:"submit-box"},[a("el-button",{staticClass:"btn",attrs:{type:"primary",plain:"",size:"small"},on:{click:t.queryTap}},[t._v("计算")]),a("el-button",{staticClass:"btn",attrs:{type:"default",plain:"",size:"small"},on:{click:t.resetTap}},[t._v("重置")])],1)],1)])])])},i=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"icon"},[a("i",{staticClass:"el-icon-circle-plus"})])}],r=(a("d81d"),a("a434"),a("96cf"),a("1da1")),s=a("5530"),o=a("1c31"),c=a("f596"),u=a("a8c8"),l=a("6612"),d={name:"dcf",mixins:[l["a"]],components:{InputNumberBox:c["a"],CustomSave:u["a"]},props:{showHeader:{type:Boolean,default:!1}},data:function(){return{data:{algorithm:"dcf",investment:"",discount:"",flow:["","","","","",""]},value:""}},methods:{addTap:function(){this.data.flow.push("")},deleteTap:function(t){this.data.flow.splice(t,1)},resetTap:function(){this.data.investment="",this.data.discount="",this.data.flow=this.data.flow.map((function(){return""})),this.value=""},queryTap:function(){var t=this.formatReqdata();if(!t.format)return this.$message({type:"warning",message:t.msg});t.data.length<2?this.$message({type:"warning",message:"请至少要2年以上的现金流数据"}):this._apiGetCaseRiskvalueInput(Object(s["a"])(Object(s["a"])({},this.data),{},{flow:t.data}))},formatReqdata:function(){if(""===this.data.investment)return{format:!1,msg:"请输入初始投入资金"};if(""===this.data.discount)return{format:!1,msg:"请输入折现率"};for(var t=this.data.flow,e=null,a=null,n=t.length-1;n>=0;n--){var i=t[n];if(e){if(""===i)return{format:!1,msg:"请输入第1年~第".concat(a+1,"年间连续数值")};e.push(+i)}else""!==i&&(e=[+i],a=n)}return e?{format:!0,data:e.reverse()}:{format:!1,msg:"请输入产生的现金流"}},_apiGetCaseRiskvalueInput:function(t){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){var n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(o["h"])(t);case 3:n=a.sent,e.value=n.dcf,a.next=10;break;case 7:a.prev=7,a.t0=a["catch"](0),e.value="";case 10:case"end":return a.stop()}}),a,null,[[0,7]])})))()}}},p=d,f=(a("a8d5"),a("2877")),m=Object(f["a"])(p,n,i,!1,null,"508eca45",null);e["a"]=m.exports},"8dc7":function(t,e,a){},"94c6":function(t,e,a){},a8c8:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"custom-save"},[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:t.context,placement:"left"}},[t.like?a("i",{staticClass:"icon el-icon-success",class:[t.like?"like":""]}):a("i",{directives:[{name:"theme-color-text",rawName:"v-theme-color-text"}],ref:"icon",staticClass:"icon el-icon-circle-plus",on:{click:t.itemTap}})])],1)},i=[],r=a("c598"),s={props:{like:{type:Boolean,default:!1}},data:function(){return{}},computed:{context:function(){return this.like?"该模块已添加到报告库中":"点击+号，可将该模块加入到报告库"}},methods:{itemTap:function(){var t=this,e=this.$refs.icon;r["a"].$emit("addAnimate",e),this.timer&&clearTimeout(this.timer),this.timer=setTimeout((function(){t.$emit("saveTap")}),200)}},beforeDestroy:function(){this.timer&&clearTimeout(this.timer)}},o=s,c=(a("1d08"),a("2877")),u=Object(c["a"])(o,n,i,!1,null,"081b11b7",null);e["a"]=u.exports},a8d5:function(t,e,a){"use strict";a("3936")},b392:function(t,e,a){"use strict";a("94c6")},f596:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"input-box"},[a("div",{staticClass:"i-control"},[t.controlClear?a("div",{directives:[{name:"show",rawName:"v-show",value:""!==t.value,expression:"value !== ''"}],staticClass:"i-control-item",on:{click:t.clearTap}},[t._v(" 清空 ")]):t._e(),t.controlDelete&&t.focused?a("div",{staticClass:"i-control-item",on:{click:t.deleteTap,mouseenter:t.mouseenterFn2}},[t._v(" 删除项 ")]):t._e()]),a("div",{staticClass:"input-number-box g-change-el-input-bg-grey",class:t.grey?"grey":"",on:{mouseenter:t.mouseenterFn,mouseleave:t.mouseleaveFn}},[a("div",{staticClass:"prepend"},[t._t("prepend")],2),a("div",{staticClass:"e-input"},[a("el-input",{staticClass:"g-change-input-number-box",attrs:{value:t.value,size:t.size,placeholder:t.placeholder,disabled:t.disabled,type:"number"},on:{focus:t.focusFn,input:t.inputChange}})],1),a("div",{staticClass:"append"},[t._t("append")],2)])])},i=[],r=(a("a9e3"),{props:{grey:{type:Boolean,default:!1},placeholder:{type:String,default:"请输入数值"},value:{type:[Number,String],default:""},size:{type:String,default:"medium"},disabled:{type:Boolean,default:!1},controlClear:{type:Boolean,default:!0},controlDelete:{type:Boolean,default:!1}},model:{prop:"value",event:"input"},data:function(){return{focused:!1}},methods:{focusFn:function(){this.focused=!0},mouseenterFn:function(){this.focused=!0},mouseenterFn2:function(){clearTimeout(this.timer),this.focused=!0},mouseleaveFn:function(){var t=this;this.timer=setTimeout((function(){t.focused=!1}),1e3)},inputChange:function(t){this.$emit("input",t)},clearTap:function(){this.inputChange(""),this.$emit("clearTap")},deleteTap:function(){this.$emit("deleteTap")}}}),s=r,o=(a("b392"),a("2877")),c=Object(o["a"])(s,n,i,!1,null,"12ee9b28",null);e["a"]=c.exports}}]);