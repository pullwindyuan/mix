(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3a941f64","chunk-22cbd709"],{"001d":function(t,e,n){"use strict";n("a011")},"0123":function(t,e,n){"use strict";n("8271")},"0538":function(t,e,n){"use strict";var a=n("1c0b"),i=n("861d"),r=[].slice,o={},s=function(t,e,n){if(!(e in o)){for(var a=[],i=0;i<e;i++)a[i]="a["+i+"]";o[e]=Function("C,a","return new C("+a.join(",")+")")}return o[e](t,n)};t.exports=Function.bind||function(t){var e=a(this),n=r.call(arguments,1),o=function(){var a=n.concat(r.call(arguments));return this instanceof o?s(e,a.length,a):e.apply(t,a)};return i(e.prototype)&&(o.prototype=e.prototype),o}},"05a9":function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return s}));n("99af"),n("cb29");var a=n("3835"),i=n("b85c"),r=n("d4ec"),o=n("bee2"),s=function(){function t(e){Object(r["a"])(this,t),this.ctx=e.ctx,this.size=10}return Object(o["a"])(t,[{key:"init",value:function(t){this.w=t.width,this.h=t.height}},{key:"draw",value:function(t,e){this.ctx.fillStyle=e,this.ctx.beginPath();var n=t[0];this.ctx.moveTo(n[0],n[1]);for(var a=1;a<t.length;a++){var i=t[a];this.ctx.lineTo(i[0],i[1])}this.ctx.fill()}},{key:"drawScale",value:function(t,e,n){this.ctx.clearRect(0,0,this.w,this.h),this.draw(t,"rgba(".concat(n[0],", ").concat(n[1],",").concat(n[2],",").concat(n[3],")"));var a,r=t[0],o=this.size,s=r[0]-o*Math.sqrt(3)*.5,c=r[1]+.5*o,u=Object(i["a"])(e);try{for(u.s();!(a=u.n()).done;){var l=a.value,h=this.size*l,d=this.scalePoint([s,c],h),f=.5*(1-(l-1.5)/1.5);this.draw(d,"rgba(".concat(n[0],", ").concat(n[1],",").concat(n[2],", ").concat(f,")"))}}catch(v){u.e(v)}finally{u.f()}}},{key:"scalePoint",value:function(t,e){var n=Object(a["a"])(t,2),i=n[0],r=n[1],o=[i+.5*e*Math.sqrt(3),r-.5*e],s=[i,r-e],c=[i-.5*e*Math.sqrt(3),r-.5*e],u=[i-.5*e*Math.sqrt(3),r+.5*e],l=[i,r+e],h=[i+.5*e*Math.sqrt(3),r+.5*e],d=[o,s,c,u,l,h];return d}}]),t}()},"07ac":function(t,e,n){var a=n("23e7"),i=n("6f53").values;a({target:"Object",stat:!0},{values:function(t){return i(t)}})},"11ac":function(t,e,n){},"15fd":function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));n("a4d3"),n("c975"),n("b64b");function a(t,e){if(null==t)return{};var n,a,i={},r=Object.keys(t);for(a=0;a<r.length;a++)n=r[a],e.indexOf(n)>=0||(i[n]=t[n]);return i}function i(t,e){if(null==t)return{};var n,i,r=a(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}},"1c31":function(t,e,n){"use strict";n.d(e,"p",(function(){return r})),n.d(e,"y",(function(){return o})),n.d(e,"q",(function(){return s})),n.d(e,"r",(function(){return c})),n.d(e,"x",(function(){return u})),n.d(e,"n",(function(){return l})),n.d(e,"e",(function(){return h})),n.d(e,"l",(function(){return d})),n.d(e,"a",(function(){return f})),n.d(e,"d",(function(){return v})),n.d(e,"g",(function(){return p})),n.d(e,"h",(function(){return m})),n.d(e,"j",(function(){return g})),n.d(e,"k",(function(){return b})),n.d(e,"i",(function(){return y})),n.d(e,"s",(function(){return x})),n.d(e,"z",(function(){return C})),n.d(e,"t",(function(){return _})),n.d(e,"w",(function(){return w})),n.d(e,"u",(function(){return j})),n.d(e,"f",(function(){return O})),n.d(e,"c",(function(){return L})),n.d(e,"b",(function(){return k})),n.d(e,"m",(function(){return P})),n.d(e,"o",(function(){return S})),n.d(e,"v",(function(){return R}));n("99af");var a=n("bc3a"),i=n.n(a);function r(t){var e="/case/risk/construction";return i.a.post(e,t)}function o(t){var e="/case/risk/single/construction";return i.a.post(e,t)}function s(t){var e="/case/risk/industry/dis";return i.a.post(e,t)}function c(t){var e="/case/risk/industry/quarter";return i.a.post(e,t)}function u(t){var e="/case/risk/industry/range/"+t;return i.a.post(e)}function l(t){var e="/case/bi/factor/history";return i.a.post(e,t)}function h(t){var e="/case/finance/bench";return i.a.post(e,t)}function d(t){var e="/dataModel/getDuPoint";return i.a.post(e,t)}function f(t){var e="/case/competitive/radar";return i.a.post(e,t)}function v(){var t="/case/competitive/industry";return i.a.get(t)}function p(t){var e="/case/riskvalue";return i.a.post(e,t)}function m(t){var e="/case/riskvalue/input";return i.a.post(e,t)}function g(t){var e="/case/value/eight";return i.a.post(e,t)}function b(t){var e="/case/value/industry/".concat(t.industryCode);return i.a.post(e,t)}function y(t){var e="/case/value/dis/".concat(t.industryCode);return i.a.post(e,t)}function x(t){var e=t.type,n=t.date,a=t.companyId,r="/scoreModel/portrait/".concat(e,"/").concat(n,"/").concat(a);return i.a.get(r)}function C(){var t="/scoreModel/index/subscore";return i.a.get(t)}function _(t){var e="/scoreModel/industry/order";return i.a.post(e,t)}function w(t){var e="/scoreModel/company/scoreTop";return i.a.post(e,t)}function j(t){var e="/scoreModel/company/scoreList";return i.a.post(e,t)}function O(t){var e="/case/risk/rank";return i.a.post(e,t)}function L(t){var e="/dataModel/getBiReportByQuarter";return i.a.post(e,t)}function k(t){var e="/dataModel/getBiIndexDataByQuarter";return i.a.post(e,t)}function P(t){var e="/case/bi/factor/history";return i.a.post(e,t)}function S(t){var e="/case/industry/location";return i.a.post(e,t)}function R(t){var e="/scoreModel/rank";return i.a.post(e,t)}},"1e8f":function(t,e,n){},"257e":function(t,e,n){"use strict";function a(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}n.d(e,"a",(function(){return a}))},"262e":function(t,e,n){"use strict";function a(t,e){return a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},a(t,e)}function i(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}n.d(e,"a",(function(){return i}))},"2caf":function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));n("4ae1"),n("3410");function a(t){return a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},a(t)}n("d3b7"),n("25f0");function i(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var r=n("53ca"),o=n("257e");function s(t,e){return!e||"object"!==Object(r["a"])(e)&&"function"!==typeof e?Object(o["a"])(t):e}function c(t){var e=i();return function(){var n,i=a(t);if(e){var r=a(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return s(this,n)}}},"31a2":function(t,e,n){"use strict";n("1e8f")},3410:function(t,e,n){var a=n("23e7"),i=n("d039"),r=n("7b0b"),o=n("e163"),s=n("e177"),c=i((function(){o(1)}));a({target:"Object",stat:!0,forced:c,sham:!s},{getPrototypeOf:function(t){return o(r(t))}})},3835:function(t,e,n){"use strict";function a(t){if(Array.isArray(t))return t}n.d(e,"a",(function(){return s}));n("a4d3"),n("e01a"),n("d28b"),n("d3b7"),n("3ca3"),n("ddb0");function i(t,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var n=[],a=!0,i=!1,r=void 0;try{for(var o,s=t[Symbol.iterator]();!(a=(o=s.next()).done);a=!0)if(n.push(o.value),e&&n.length===e)break}catch(c){i=!0,r=c}finally{try{a||null==s["return"]||s["return"]()}finally{if(i)throw r}}return n}}var r=n("06c5");function o(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(t,e){return a(t)||i(t,e)||Object(r["a"])(t,e)||o()}},4096:function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return h}));n("99af"),n("a15b");var a=n("b85c"),i=n("d4ec"),r=n("bee2"),o=n("262e"),s=n("2caf"),c=n("05a9"),u=n("2c1c");function l(t,e){for(var n=t[0],a=t[1],i=!1,r=0,o=e.length-1;r<e.length;o=r++){var s=e[r][0],c=e[r][1],u=e[o][0],l=e[o][1],h=c>a!==l>a&&n<(u-s)*(a-c)/(l-c)+s;h&&(i=!i)}return i}var h=function(t){Object(o["a"])(n,t);var e=Object(s["a"])(n);function n(t){var a;return Object(i["a"])(this,n),a=e.call(this),a.ctx=t.ctx,a.totalHexagonPoints=t.total,a.hexagon=new c["default"](t),a._cashLightPoint={},a._activePoint=null,a}return Object(r["a"])(n,[{key:"init",value:function(t){this.w=t.width,this.h=t.height,this.spacing=11,this.size=10,this.hexagon.init(t)}},{key:"getLightCenterPoint",value:function(){return this._activePoint}},{key:"draw",value:function(t){if(this._activePoint=null,this.ctx.clearRect(0,0,this.w,this.h),this.ctx.fillStyle="rgba(0,0,0,0)",this.ctx.fillRect(0,0,this.w,this.h),!(t.x>this.w)){var e=this.getCashPoint(t);if(e){if(this.$emit("hoverLight",e),"string"===typeof e)return;return this.drawHexagonList(e)}var n=this.getLightPoints(t);n?(this.drawHexagonList(n),this.setCashPoint(t,n)):this.setCashPoint(t,"__no__data__"),this.$emit("hoverLight",n)}}},{key:"drawHexagonList",value:function(t){var e,n=Object(a["a"])(t);try{for(n.s();!(e=n.n()).done;){var i=e.value,r="rgba(".concat(i.hoverColor.join(","),")");this.hexagon.draw(i.pos,r)}}catch(o){n.e(o)}finally{n.f()}this._activePoint=t[0]}},{key:"getLightPoints",value:function(t){for(var e=-1,n=0;n<this.totalHexagonPoints.length;n++){var a=this.totalHexagonPoints[n].pos,i=l([t.x,t.y],a);if(i){e=n;break}}return-1!==e&&[this.totalHexagonPoints[e]]}},{key:"setCashPoint",value:function(t,e){var n="".concat(t.x,"-").concat(t.y);this._cashLightPoint[n]=e}},{key:"getCashPoint",value:function(t){var e="".concat(t.x,"-").concat(t.y);return this._cashLightPoint[e]}}]),n}(u["default"])},"4a07":function(t,e,n){},"4ae1":function(t,e,n){var a=n("23e7"),i=n("d066"),r=n("1c0b"),o=n("825a"),s=n("861d"),c=n("7c73"),u=n("0538"),l=n("d039"),h=i("Reflect","construct"),d=l((function(){function t(){}return!(h((function(){}),[],t)instanceof t)})),f=!l((function(){h((function(){}))})),v=d||f;a({target:"Reflect",stat:!0,forced:v,sham:v},{construct:function(t,e){r(t),o(e);var n=arguments.length<3?t:r(arguments[2]);if(f&&!d)return h(t,e,n);if(t==n){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var a=[null];return a.push.apply(a,e),new(u.apply(t,a))}var i=n.prototype,l=c(s(i)?i:Object.prototype),v=Function.apply.call(t,l,e);return s(v)?v:l}})},5801:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.loadingBox?n("g-echart-box",{directives:[{name:"g-loading",rawName:"v-g-loading",value:t.loading,expression:"loading"}],attrs:{bgcolor:t.bgcolor,"g-loading-background":t.bgcolor,"g-loading-text-color":t.textColor,txtColor:t.txtColor,imgWidth:t.imgWidth,empty:0===t.xdata.length}},[n("div",{ref:"chart",style:t.boxStyle})]):n("div",{ref:"chart",style:t.boxStyle})},i=[],r=(n("4160"),n("a9e3"),n("159b"),n("33c3")),o=n("164e"),s={props:{title:{type:String,default:""},imgWidth:{type:Number,default:200},txtColor:{type:String,default:"white"},data:{type:Array,default:function(){return[]}},xdata:{type:Array,default:function(){return[]}},height:{type:[Number,String],default:320},bgcolor:{type:String,default:"white"},textColor:{type:String,default:"#606266"},colors:{type:Array,default:function(){return[]}},options:{type:Object,default:function(){return null}},xTitle:{type:String,default:""},yTitle:{type:String,default:""},emptyText:String,loadingScale:{type:Number,default:1},smooth:{type:Boolean,default:!1},loadingBox:{type:Boolean,default:!0}},data:function(){return{loading:!0}},computed:{boxStyle:function(){return{height:this.height+"px",margin:"0 auto"}}},mounted:function(){window.addEventListener("resize",this.resize)},methods:{resize:function(){this.chart&&this.chart.resize()},_initCanvas:function(){var t=this;this._renderIndex>1&&this.loading&&(this.loading=!1),this.loading&&this.xdata.length>0&&(this.loading=!1),this.$nextTick((function(){t.loading||t._initChart()}))},_initChart:function(){var t=this;if(!this.chart){var e=this.$refs.chart;if(!e)return;this.chart=o["init"](e)}this.data.length>0&&this.data.forEach((function(e,n){e.type="bar"===e.type?"bar":"line",e.symbolSize=e.symbolSize||0,e.smooth=t.smooth,t.colors.length&&t.colors.length>0&&t.colors.forEach((function(t,a){n===a&&(e.color=t)}))}));var n=Object(r["l"])(this.data,this.xdata,this.title,this.xTitle,this.yTitle);Object(r["c"])(n,this.options),this.options&&(n=Object(r["m"])(this.options,n)),this.chart.clear(),this.chart.setOption(n)}},watch:{data:{deep:!0,immediate:!0,handler:function(){this._renderIndex||(this._renderIndex=0),this._renderIndex++,this._initCanvas()}}},beforeDestroy:function(){window.removeEventListener("resize",this.resize)}},c=s,u=(n("31a2"),n("2877")),l=Object(u["a"])(c,a,i,!1,null,"6cbf7eb0",null);e["a"]=l.exports},"65df":function(t,e,n){"use strict";n("4a07")},"6f53":function(t,e,n){var a=n("83ab"),i=n("df75"),r=n("fc6a"),o=n("d1e7").f,s=function(t){return function(e){var n,s=r(e),c=i(s),u=c.length,l=0,h=[];while(u>l)n=c[l++],a&&!o.call(s,n)||h.push(t?[n,s[n]]:s[n]);return h}};t.exports={entries:s(!0),values:s(!1)}},"76e3":function(t,e,n){"use strict";n("d852")},"7db0":function(t,e,n){"use strict";var a=n("23e7"),i=n("b727").find,r=n("44d2"),o=n("ae40"),s="find",c=!0,u=o(s);s in[]&&Array(1)[s]((function(){c=!1})),a({target:"Array",proto:!0,forced:c||!u},{find:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),r(s)},"81d5":function(t,e,n){"use strict";var a=n("7b0b"),i=n("23cb"),r=n("50c4");t.exports=function(t){var e=a(this),n=r(e.length),o=arguments.length,s=i(o>1?arguments[1]:void 0,n),c=o>2?arguments[2]:void 0,u=void 0===c?n:i(c,n);while(u>s)e[s++]=t;return e}},8271:function(t,e,n){},8834:function(t,e,n){"use strict";n("e8d1")},9509:function(t,e,n){},a011:function(t,e,n){},a207:function(t,e,n){"use strict";n.r(e),n.d(e,"gridPointIndex",(function(){return a})),n.d(e,"leftActiveIndex",(function(){return i})),n.d(e,"rightActiveIndex",(function(){return r}));var a=["33","64","66","74","75","95","97","105","106","107","111","126","127","128","136","137","138","139","140","142","143","157","158","159","160","161","167","168","169","170","171","172","173","174","175","177","187","188","189","190","191","192","193","194","197","198","199","200","201","202","203","204","205","207","211","218","219","220","221","222","223","224","225","227","228","229","230","231","232","233","234","235","236","249","250","251","252","253","254","255","256","257","258","259","260","261","262","263","264","265","266","267","280","281","282","283","284","285","286","287","288","289","290","291","292","293","294","295","296","311","313","314","315","316","317","318","319","320","321","322","323","324","325","326","343","344","345","346","347","348","349","350","351","352","353","354","355","356","373","374","375","376","377","378","379","380","381","382","383","384","385","386","387","395","404","405","406","407","408","409","410","411","412","413","414","415","416","417","425","426","436","437","438","439","440","441","442","443","445","454","455","456","468","469","470","471","472","473","485","486","491","498","499","503","504","529","530","534","559","560","561","562","589","590","591","620","621","622","623","651","652","654","677","682","683","713","714","744","992","1023","1050","1055","1056","1057","1068","1069","1070","1071","1072","1073","1074","1081","1086","1087","1088","1091","1093","1094","1098","1100","1101","1102","1103","1104","1105","1107","1117","1118","1119","1120","1121","1122","1123","1124","1125","1128","1131","1132","1133","1134","1135","1136","1148","1149","1150","1152","1153","1154","1155","1156","1157","1158","1163","1164","1165","1166","1167","1180","1185","1186","1187","1188","1189","1195","1196","1197","1198","1199","1200","1210","1211","1216","1217","1218","1219","1220","1221","1224","1226","1227","1228","1229","1230","1231","1232","1242","1248","1249","1250","1251","1252","1253","1254","1255","1258","1259","1262","1263","1274","1280","1281","1282","1283","1284","1285","1293","1294","1304","1305","1311","1312","1313","1314","1315","1316","1317","1318","1325","1335","1336","1337","1342","1343","1344","1345","1346","1347","1348","1349","1350","1351","1366","1367","1368","1373","1374","1375","1376","1377","1378","1379","1380","1381","1382","1398","1399","1405","1406","1407","1408","1409","1410","1411","1412","1413","1415","1416","1417","1418","1419","1429","1436","1437","1438","1439","1440","1441","1442","1443","1444","1445","1446","1447","1448","1449","1450","1468","1469","1470","1471","1472","1473","1474","1475","1476","1477","1478","1479","1480","1481","1499","1500","1501","1502","1503","1504","1505","1506","1507","1508","1509","1510","1511","1512","1530","1531","1532","1533","1534","1535","1536","1537","1538","1539","1540","1541","1542","1543","1562","1563","1564","1565","1566","1567","1568","1569","1570","1571","1573","1574","1575","1587","1593","1594","1595","1596","1597","1598","1599","1600","1601","1602","1604","1605","1606","1607","1618","1623","1624","1625","1626","1627","1628","1629","1630","1631","1636","1637","1638","1648","1649","1654","1655","1656","1657","1658","1659","1660","1661","1667","1668","1669","1678","1679","1680","1685","1686","1687","1688","1689","1690","1691","1701","1709","1710","1711","1712","1717","1718","1719","1720","1721","1722","1723","1739","1740","1741","1742","1743","1747","1748","1749","1750","1751","1752","1753","1754","1755","1756","1771","1772","1773","1774","1775","1778","1779","1780","1781","1782","1783","1784","1785","1802","1803","1804","1805","1806","1808","1809","1810","1811","1812","1813","1814","1815","1834","1838","1842","1844"],i=["138","139","140","167","168","169","170","171","172","198","199","200","201","202","203","229","230","231","232","233","234","260","261","262","263","264","265","291","292","293","294","295","296","322","323","324","325","326","353","354","355","356","384","385","386","387","415","416","417"],r=["1070","1098","1100","1101","1102","1103","1131","1132","1133","1134","1163","1164","1165","1195","1196","1224","1226","1227","1254","1255","1258","1283","1284","1285","1314","1315","1316","1317","1318","1345","1346","1347","1348","1349","1350","1351","1376","1377","1378","1379","1380","1381","1382","1407","1408","1409","1410","1411","1412","1413","1438","1439","1440","1441","1442","1443","1444","1469","1470","1471","1472","1473","1474","1475","1500","1501","1502","1503","1504","1505","1506","1531","1532","1533","1534","1535","1536","1537","1563","1564","1565","1566","1567","1568","1594","1595","1596","1597","1598","1599","1625","1626","1627","1628","1629","1630","1656","1657","1658","1659","1660","1661","1687","1688","1689","1690","1691","1718","1719","1720"]},a741:function(t,e,n){"use strict";var a=n("b85c"),i=n("5530"),r=n("2f62");e["a"]={computed:Object(i["a"])({},Object(r["c"])(["yanshiInfo"])),methods:{mixinReqTime:function(t){var e,n=this.mixinGetDateType(),i="season"===n?"startSeason":"startDate",r="season"===n?"endSeason":"endDate",o=null,s=null,c=Object(a["a"])(t);try{for(c.s();!(e=c.n()).done;){var u=e.value,l=u[i],h=u[r];o||(o=l,s=h);var d=s.localeCompare(l),f=s.localeCompare(h);o=d>0?o:l,s=f>0?h:s}}catch(v){c.e(v)}finally{c.f()}return{startDate:o,endDate:s,dateType:n}},mixinReqOneTime:function(t){var e=t||this.yanshiInfo,n=e.startDate,a=e.endDate,i=e.startSeason,r=e.endSeason,o=e.seasonDataFlag,s=o?i:n,c=o?r:a,u=o?"season":"year";return{startDate:s,endDate:c,dateType:u}},mixinGetReqOneTimeByType:function(t,e){var n=e||this.yanshiInfo,a=n.startDate,i=n.endDate,r=n.startSeason,o=n.endSeason,s=t?r:a,c=t?o:i,u=t?"season":"year";return{startDate:s,endDate:c,dateType:u}},mixinReqBiOneTime:function(t){var e=this.mixinReqOneTime(t);return{type:e.dateType,date:e.endDate}},mixinGetDateType:function(){return this.yanshiInfo.seasonDataFlag?"season":"year"}}}},ab2a:function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return s}));n("a15b");var a=n("b85c"),i=n("d4ec"),r=n("bee2"),o=n("05a9"),s=function(){function t(e){Object(i["a"])(this,t),this.ctx=e.ctx,this.hexagon=new o["default"](e)}return Object(r["a"])(t,[{key:"init",value:function(t){this.w=t.width,this.h=t.height,this.spacing=11,this.size=10,this.hexagon.init(t)}},{key:"draw",value:function(t){var e,n=Object(a["a"])(t);try{for(n.s();!(e=n.n()).done;){var i=e.value,r="rgba(".concat(i.color.join(","),")");this.hexagon.draw(i.pos,r)}}catch(o){n.e(o)}finally{n.f()}}}]),t}()},b3ac:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"quota"},[n("div",{staticClass:"quota-content"},[n("TopHexagon",{ref:"hexagon",attrs:{height:t.topHeight},on:{clickPoint:t.clickPoint}}),n("BottomCard",{ref:"card",attrs:{height:t.cardHeight,data:t.data}})],1)])},i=[],r=(n("7db0"),n("d81d"),n("b0c0"),n("07ac"),n("ac1f"),n("1276"),n("96cf"),n("1da1")),o=n("15fd"),s=n("b85c"),c=n("5530"),u=n("f4dd"),l=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"quo-title-box"},[n("div",{staticClass:"title-header"},[n("div",{staticClass:"g-app-title-1"},[t._v(" 阿尔法财AI预警:"+t._s(t.yanshiInfo.companyName)+"最具风险的指标 ")]),n("div",{staticClass:"date-text"},[t._v(" （基于"+t._s(t.$startYear)+" - "+t._s(t.$endYear)+"520个财务指标海量数据勾稽关系分析） ")]),t._m(0)]),n("div",{ref:"box",staticClass:"canvas-box",style:t.boxStyle,on:{mouseleave:t.mouseleave}},[n("canvas",{ref:"c1",staticClass:"canvas"}),n("canvas",{ref:"c2",staticClass:"canvas"}),n("canvas",{ref:"c3",staticClass:"canvas"})]),n("div",{directives:[{name:"show",rawName:"v-show",value:t.data.columnName,expression:"data.columnName"}],staticClass:"tool-tip",style:t.toolTipStyle},[n("div",{staticClass:"line"},[t._v(t._s(t.data.subjectTitle))]),n("div",{staticClass:"line"},[t._v(t._s(t.data.subjectText))]),n("div",{directives:[{name:"show",rawName:"v-show",value:!t.data.disabled,expression:"!data.disabled"}],staticClass:"line"},[t._v(" 优先级风险指标概率："+t._s(t.data.value)+"% ")])])])},h=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"star-box"},[n("div",{staticClass:"star-item"},[n("i",{staticClass:"iconfont icon-liubianxing icon good"}),n("span",[t._v("好")])]),n("div",{staticClass:"star-item"},[n("i",{staticClass:"iconfont icon-liubianxing icon middle"}),n("span",[t._v("一般")])]),n("div",{staticClass:"star-item"},[n("i",{staticClass:"iconfont icon-liubianxing icon bad"}),n("span",[t._v("差")])])])}],d=n("3835"),f=n("cfb0"),v=n("f348"),p=n("2f62"),m={props:{height:{type:String,default:"180"}},data:function(){return{data:{},pos:[]}},computed:Object(c["a"])({toolTipStyle:function(){return{top:this.pos[1]+"px",left:this.pos[0]+"px"}},boxStyle:function(){return{height:this.height+"px"}}},Object(p["c"])(["yanshiInfo"])),mounted:function(){this.initCanvas()},methods:{initCanvas:function(){var t=this.$refs.c1,e=this.$refs.c2,n=this.$refs.c3;this.hexagonManager=new f["default"]({grid:t,light:e,animate:n,gridColor:[255,255,255,1],gridHoverColor:[220,220,220,1],mapHoverColor:[220,220,220,1]}),this._prevId=-1,this.hexagonManager.$on("onClickPoint",this.clickPoint),this.hexagonManager.light.$on("hoverLight",this.hoverLight)},hoverLight:function(t){var e=t[0];e&&e.data?this._prevId!==e.id&&(this._prevId=e.id,this.data=e.data,this.setBoxPos(e.data,e.pos[0])):this.mouseleave()},setBoxPos:function(t,e){var n=this.$refs.box,a=n.offsetWidth,i=500,r=Object(v["k"])(t.subjectTitle),o=Object(v["k"])(t.subjectText),s=t.disabled?0:Object(v["k"])("优先级风险指标概率：".concat(t.value)),c=Math.max(r,o,s),u=7*c+24+12,l=Object(d["a"])(e,2),h=l[0],f=l[1];if(a-h<u){var p=t.disabled?12:22;h=h-u-p}else h+=4;var m=30;f=f-(i-this.height)/2+m,this.pos=[h,f]},clickPoint:function(t){this.$emit("clickPoint",t.data)},initData:function(t,e){this.hexagonManager.setGridPoints(t,e)},mouseleave:function(){this.data={},this._prevId=-1}},beforeDestroy:function(){this.hexagonManager.removeListener()}},g=m,b=(n("0123"),n("2877")),y=Object(b["a"])(g,l,h,!1,null,"062751b4",null),x=y.exports,C=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"bottom-card"},[t.data.subjectTitle?n("div",{staticClass:"c-header"},[n("div",{staticClass:"g-app-title-1"},[t._v(t._s(t.data.subjectTitle))]),n("div",{staticClass:"date-text"},[t._v(" （"+t._s(t.data.subjectText)+"）优先级风险指标概率："+t._s(t.data.value)+"% ")])]):n("div",{staticClass:"c-header"},[n("app-ske-line",{style:{padding:"2px 0",height:"20px"},attrs:{width:"30%"}})],1),n("div",{staticClass:"c-content"},[n("div",{staticClass:"c-left c-box"},[n("div",{staticClass:"c-box-title"},[n("g-tabs2",{attrs:{active:t.active,borderColor:"transparent",lineBottom:-9,padding:0,data:t.tabs,height:14,step:20},on:{itemTap:t.itemTap}})],1),n("div",{staticClass:"c-left-main g-relative"},[n("div",{directives:[{name:"show",rawName:"v-show",value:"Reason"!==t.active,expression:"active !== 'Reason'"}],staticClass:"select-box"},[n("BenchmarkingCompany",{ref:"mark",attrs:{size:"small",labelRight:2,onlyIndustry:""},on:{change:t.companyChange}})],1),n(t.active,{ref:"comp",tag:"component",attrs:{height:t.height,data:t.data,comList:t.companyList}})],1)]),n("div",{staticClass:"c-right c-box"},[n("div",{staticClass:"c-box-title"},[t._v("AI建议该指标对应的风控策略")]),n("div",{staticClass:"c-right-main g-relative"},[n("ContentBox",{directives:[{name:"g-no-data",rawName:"v-g-no-data",value:!t.data||!t.data.strategies,expression:"!data || !data.strategies"}],ref:"content",attrs:{height:t.height}},t._l(t.data.strategies,(function(e,a){return n("div",{key:e.id,staticClass:"r-line"},[t._v(" "+t._s(a+1)+"."+t._s(e.name)+" ")])})),0)],1)])])])},_=[],w=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"c-componet"},[t._e(),n("div",{directives:[{name:"g-loading",rawName:"v-g-loading",value:t.loading,expression:"loading"}],staticClass:"g-relative c-chart",attrs:{"g-loading-background":"rgba(251, 251, 251, 1)"}},[n("div",{directives:[{name:"g-no-data",rawName:"v-g-no-data",value:0===t.xdata.length,expression:"xdata.length === 0"}],staticClass:"g-relative"},[n("EchartLine",{ref:"chart",attrs:{loadingBox:!1,height:t.height,smooth:"",xdata:t.xdata,data:t.chartData,options:t.options}})],1)])])},j=[],O=(n("99af"),n("a15b"),n("b64b"),n("5319"),n("2909")),L=n("f36c"),k=n("5801"),P=n("33c3"),S=n("1c31"),R=n("a741"),T={mixins:[R["a"]],props:{data:{type:Object,default:function(){return{}}}},data:function(){return{loading:!1,companyList:[]}},computed:Object(c["a"])({},Object(p["c"])(["yanshiInfo"])),methods:{companyChange:function(t){this.companyList=t,this.queryTap()},queryTap:function(){if(this.data.factorId){var t=[this.yanshiInfo].concat(Object(O["a"])(this.companyList)),e=this.formatReqdata(t);this._apiGetFactorHistory(e)}},formatReqdata:function(t){var e=this.mixinReqTime(t);return Object(c["a"])(Object(c["a"])({},e),{},{indexList:[{name:this.data.subjectTitle,unit:this.data.unit||"",columnName:this.data.columnName}],companyList:t.map((function(t){t.address;var e=Object(o["a"])(t,["address"]);return e}))})},_apiGetFactorHistory:function(t){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){var a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,e.loading=!0,n.next=4,Object(S["m"])(t);case 4:a=n.sent,e.formatResdata(a),n.next=11;break;case 8:n.prev=8,n.t0=n["catch"](0),e.xdata=[];case 11:e.loading=!1;case 12:case"end":return n.stop()}}),n,null,[[0,8]])})))()}},watch:{data:function(){this.queryTap()}}},I={props:{height:{type:String,default:"170"}},methods:{resize:function(){var t=this.$refs.chart;t&&t.resize()}}},D={mixins:[T,I],props:{comList:{type:Array,default:function(){return[]}}},components:{BenchmarkingCompany:L["a"],EchartLine:k["a"]},data:function(){return{options:{},xdata:[],chartData:[]}},methods:{formatResdata:function(t){var e=this;this._initOptions(this.data.unit);var n=Object.keys(t[0].indexData[0].data);n.sort((function(t,e){return t.localeCompare(e)}));var a=t.map((function(t,a){var i=t.indexData[0].data,r=n.map((function(t){return i[t]}));return{name:t.companyName,data:r,emphasis:{lineStyle:{shadowColor:e.$colors[a],shadowBlur:5}}}}));this.xdata=n,this.chartData=a},_initOptions:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.options={grid:{top:14,bottom:45,right:20,left:0},legend:{bottom:15},dataZoom:P["d"],backgroundColor:"transparent",tooltip:{formatter:function(e){var n=e[0].name.replace(/_/,"年")+"季度",a=e.map((function(e){var n=e.seriesName,a=Object(v["h"])(e.value,t),i=Object(P["o"])(a);return"".concat(n).concat(i)}));return[n].concat(Object(O["a"])(a)).join("<br/>")},extraCssText:"width: 230px;"},xAxis:{axisLabel:{formatter:function(t){return t.replace(/_/,"Q")}},splitLine:{show:!1}},yAxis:{name:"",axisLabel:{formatter:function(e){return Object(v["h"])(e,t)}},axisLine:{show:!0,lineStyle:{color:"#CCCCCC"}},splitLine:{show:!0,lineStyle:{type:"dashed",color:"#EBEEF5"}}}}}},watch:{comList:{immediate:!0,handler:function(t){0!==t.length&&this.companyChange(t)}}}},H=D,z=(n("001d"),Object(b["a"])(H,w,j,!1,null,"1c66674a",null)),E=z.exports,q=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ContentBox",{directives:[{name:"g-no-data",rawName:"v-g-no-data",value:!t.textList||0===t.textList.length,expression:"!textList || textList.length === 0"}],ref:"content",attrs:{height:t.height}},t._l(t.textList,(function(e,a){return n("div",{key:a,staticClass:"text-item"},[t._v(" "+t._s(e)+" ")])})),0)},N=[],$=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"t-scroll-box",class:[t.isFlex?"flex-align":""],style:t.boxStyle},[n("div",{ref:"box",staticClass:"c-box"},[t._t("default")],2)])},A=[],B={props:{height:{type:String,default:"170"}},data:function(){return{isFlex:!1}},computed:{boxStyle:function(){return{height:+this.height+52+"px"}}},mounted:function(){this.initFlex()},methods:{initFlex:function(){var t=+this.height+52,e=this.$refs.box;if(!e)return this.isFlex=!1;var n=e.offsetHeight,a=t>n;this.isFlex=a}},watch:{height:function(){this.initFlex()}}},F=B,M=(n("8834"),Object(b["a"])(F,$,A,!1,null,"08451821",null)),G=M.exports,Q={mixins:[I],props:{data:{type:Object,default:function(){return{}}}},components:{ContentBox:G},data:function(){return{}},computed:{textList:function(){return this.data.why&&this.data.why.split("\n\n")}},methods:{initFlex:function(){var t=this.$refs.content;t&&t.initFlex()}}},J=Q,U=(n("65df"),Object(b["a"])(J,q,N,!1,null,"5626d45c",null)),V=U.exports,W=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"c-componet"},[t._e(),n("div",{directives:[{name:"g-loading",rawName:"v-g-loading",value:t.loading,expression:"loading"}],staticClass:"g-relative c-chart",attrs:{"g-loading-background":"rgba(251, 251, 251, 1)"}},[n("div",{directives:[{name:"g-no-data",rawName:"v-g-no-data",value:0===t.xdata.length,expression:"xdata.length === 0"}],staticClass:"g-relative"},[n("EchartLine",{ref:"chart",attrs:{loadingBox:!1,height:t.height,smooth:"",xdata:t.xdata,data:t.chartData,options:t.options}})],1)])])},X=[],Y=(n("caad"),n("d3b7"),n("ddb0"),{mixins:[I,R["a"]],props:{data:{type:Object,default:function(){return{}}},comList:{type:Array,default:function(){return[]}}},components:{BenchmarkingCompany:L["a"],EchartLine:k["a"]},data:function(){return{options:{},xdata:[],chartData:[],loading:!0}},computed:Object(c["a"])({},Object(p["c"])(["yanshiInfo"])),created:function(){this._initUIView()},methods:{companyChange:function(t){this.companyList=JSON.parse(JSON.stringify(t)),this.queryTap()},queryTap:function(){if(this.data.factorId){this.cList=[this.yanshiInfo].concat(Object(O["a"])(this.companyList));var t=this.formatReqdata(this.cList),e=["QR","CR","DPR","QR_last","QR_avg","QR_stdev","QR_trend","CR_last","CR_avg","CR_stdev","CR_trend","DPR_last","DPR_avg","DPR_stdev","DPR_trend"];if(e.includes(t.indexList[0].columnName))return this.xdata=[],void(this.loading=!1);this._apiGetIndexIndustryLocation(t)}else this.loading=!1},formatReqdata:function(t){var e=this.mixinReqTime(t);return Object(c["a"])(Object(c["a"])({},e),{},{industryCode:this.yanshiInfo.industryCode,indexList:[{name:this.data.subjectTitle,unit:this.data.unit||"",columnName:this.data.columnName}],companyList:t.map((function(t){t.address;var e=Object(o["a"])(t,["address"]);return e}))})},formatResdata:function(t){var e=Object(P["h"])(),n=e.xdata,a=e.values,i=this.cList.map((function(e){var i=e.companyName,r=n.map((function(){return{value:null}})),o=t[e.code]||{},s=0|o.pos;return r[s]={value:a[s],data:o},{name:i,data:r,symbolSize:12,symbol:"circle"}}));this.xdata=n,this.chartData=[].concat(Object(O["a"])(i),[{name:"",data:a,smooth:!0,symbolSize:0,showSymbol:!1,areaStyle:{color:"rgba(0,0,255,0.05)"},lineStyle:{color:"#409EFF"}}])},_initUIView:function(){this._initOptions()},_initOptions:function(){var t=this;this.options={grid:{top:14},backgroundColor:"transparent",tooltip:{show:!0,trigger:"item",formatter:function(e){var n=e.data.data,a="".concat(e.marker).concat(e.seriesName),i="".concat(t.data.subject,"：").concat(n.val),r="在本行业排名".concat(n.rank,"名"),o="超过本行业中".concat(n.pos,"%的公司");return[a,i,r,o].join("<br/>")}},legend:{itemHeight:14,icon:this.$echartsLegendIcon.circle},yAxis:{offset:-300,splitLine:{show:!1},axisLine:{show:!0,lineStyle:{color:"rgba(204, 204, 204, 0.2)"}},type:"value",name:"",min:0,max:100,color:"#ccc",axisLabel:{show:!1},axisTick:{show:!1}},xAxis:{axisLine:{show:!0,lineStyle:{color:"rgba(204, 204, 204, 0.2)"}},splitLine:{show:!1,lineStyle:{color:"rgba(204, 204, 204, 0.2)"}},axisLabel:{color:"transparent",interval:0}}}},_apiGetIndexIndustryLocation:function(t){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){var a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,e.loading=!0,n.next=4,Object(S["o"])(t);case 4:a=n.sent,e.formatResdata(a.data),n.next=12;break;case 8:n.prev=8,n.t0=n["catch"](0),e.xdata=[],e.chartData=[];case 12:e.loading=!1;case 13:case"end":return n.stop()}}),n,null,[[0,8]])})))()}},watch:{data:function(){this.queryTap()},comList:{immediate:!0,handler:function(t){0!==t.length&&this.companyChange(t)}}}}),Z=Y,K=(n("e3c1"),Object(b["a"])(Z,W,X,!1,null,"02615389",null)),tt=K.exports,et={props:{data:{type:Object,default:function(){return{}}},height:{type:String,height:"170"}},components:{Competitor:E,Reason:V,Position:tt,ContentBox:G,BenchmarkingCompany:L["a"]},data:function(){return{active:"Competitor",tabs:[{title:"导致风险的原因",key:"Reason"},{title:"对标竞争者",key:"Competitor"},{title:"在本行业位置",key:"Position"}],companyList:[]}},methods:{companyChange:function(t){this.companyList=t},resize:function(){var t=this.$refs.comp;t&&t.resize()},resizeContentBox:function(){var t=this.$refs.content;if(t&&t.initFlex(),"Reason"===this.active){var e=this.$refs.comp;e&&e.initFlex()}},itemTap:function(t){this.active=t.key}}},nt=et,at=(n("76e3"),Object(b["a"])(nt,C,_,!1,null,"a9181bfe",null)),it=at.exports,rt={components:{TopHexagon:x,BottomCard:it},data:function(){return{data:{},topHeight:"180",cardHeight:"170"}},computed:Object(c["a"])({},Object(p["c"])(["yanshiInfo","themeSuggestPosition"])),created:function(){this._initUIView()},mounted:function(){this._initListener()},methods:{queryTap:function(){this.yanshiInfo.companyId&&this._apiGetRiskSuggest({companyId:this.yanshiInfo.companyId})},clickPoint:function(t){var e=this;this.data=t,this.$nextTick((function(){var t=e.$refs.card;t&&t.resizeContentBox()}))},refresh:function(t,e){var n=this.$refs.hexagon;n&&n.initData(t,e)},formatResdata:function(t){var e,n={},a=Object(s["a"])(t.latitudeSummaries);try{var i=function(){var t,a=e.value,i={name:a.name,subject:a.subject,value:a.value},r=Object(s["a"])(a.factorySummries);try{for(r.s();!(t=r.n()).done;){var c=t.value,u=(c.selects,c.selectName,Object(o["a"])(c,["selects","selectName"])),l=u.subject.split("，");u.subjectTitle=l[0],u.subjectText=l[1]||"",u.strategies=u.strategies.map((function(t){return{id:t.id,name:t.name}}));var h=n[c.columnName];if(h){var d=h.parentList.find((function(t){return t.name===i.name}));d||h.parentList.push(i),u.value>h.value&&(u.parentList=h.parentList,n[c.columnName]=u)}else u.parentList=[i],n[c.columnName]=u}}catch(f){r.e(f)}finally{r.f()}};for(a.s();!(e=a.n()).done;)i()}catch(f){a.e(f)}finally{a.f()}var r,c=[],u=Object(s["a"])(t.factor);try{for(u.s();!(r=u.n()).done;){var l=r.value;if(!n[l.columnName]){var h=l.name.split(",");c.push({columnName:l.columnName,subjectTitle:h[0],subjectText:h[1],subject:l.name,disabled:!0})}}}catch(f){u.e(f)}finally{u.f()}var d=Object.values(n);this.refresh(c,d)},resizeCard:function(){var t=this;setTimeout((function(){var e=t.$refs.card;e&&e.resize()}),200)},resize:function(){var t=this;this.timer&&clearTimeout(this.timer);var e=1===this.themeSuggestPosition?0:48;this.timer=setTimeout((function(){var n=180,a=-10,i=713,r=window.innerHeight,o=(r-i)/2,s=o>0?n+o:n;t.topHeight="".concat(s),t.cardHeight="".concat(s+a+e),t.resizeCard()}),50)},_initUIView:function(){this.queryTap()},_initListener:function(){window.addEventListener("resize",this.resize),this.resize()},_apiGetRiskSuggest:function(t){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){var a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,e.loading=!0,n.next=4,Object(u["l"])(t);case 4:a=n.sent,e.loading=!1,e.formatResdata(a),n.next=11;break;case 9:n.prev=9,n.t0=n["catch"](0);case 11:e.loading=!1;case 12:case"end":return n.stop()}}),n,null,[[0,9]])})))()}},beforeDestroy:function(){this.timer&&clearTimeout(this.timer),window.removeEventListener("resize",this.resize)}},ot=rt,st=(n("cfa5"),Object(b["a"])(ot,a,i,!1,null,"9df05fc4",null));e["default"]=st.exports},c740:function(t,e,n){"use strict";var a=n("23e7"),i=n("b727").findIndex,r=n("44d2"),o=n("ae40"),s="findIndex",c=!0,u=o(s);s in[]&&Array(1)[s]((function(){c=!1})),a({target:"Array",proto:!0,forced:c||!u},{findIndex:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),r(s)},caad:function(t,e,n){"use strict";var a=n("23e7"),i=n("4d64").includes,r=n("44d2"),o=n("ae40"),s=o("indexOf",{ACCESSORS:!0,1:0});a({target:"Array",proto:!0,forced:!s},{includes:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),r("includes")},cb29:function(t,e,n){var a=n("23e7"),i=n("81d5"),r=n("44d2");a({target:"Array",proto:!0},{fill:i}),r("fill")},cfa5:function(t,e,n){"use strict";n("11ac")},cfb0:function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return y}));n("4160"),n("d81d"),n("ac1f"),n("1276"),n("159b");var a=n("15fd"),i=n("5530"),r=n("d4ec"),o=n("bee2"),s=n("257e"),c=n("262e"),u=n("2caf"),l=n("ade3"),h=n("ab2a"),d=n("4096"),f=n("05a9"),v=n("f8c0"),p=n("e7f3"),m=n("2c1c"),g=n("f348"),b=n("a207"),y=function(t){Object(c["a"])(n,t);var e=Object(u["a"])(n);function n(t){var a;return Object(r["a"])(this,n),a=e.call(this),a.keyList=["grid","light","animate"],a.mapPoints=[],a.gridPoints=[],a.gridColor=t.gridColor||[36,37,81,1],a.gridHoverColor=t.gridHoverColor||[157,159,255,1],a.mapColor=t.mapColor||[0,0,0,1],a.mapHoverColor=t.mapHoverColor||[59,61,76,1],a.maxX=2e3,a.source={x:a.maxX,y:0},a.activePoint=null,a._pct1=1,a._pct2=1,a.reqId=null,a._unReqed=!1,a.resize=a.resize.bind(Object(s["a"])(a)),a.mousemove=a.mousemove.bind(Object(s["a"])(a)),a.mouseleave=a.mouseleave.bind(Object(s["a"])(a)),a.init(t),a.loop(),a.addListener(),a}return Object(o["a"])(n,[{key:"init",value:function(t){var e=this;this.initHexagonPoints(),this.keyList.forEach((function(n){e["".concat(n,"Canvas")]=t[n],e["".concat(n,"Ctx")]=t[n].getContext("2d")})),this.grid=new h["default"]({ctx:this.gridCtx}),this.light=new d["default"]({ctx:this.lightCtx,total:this.mapPoints}),this.animate=new f["default"]({ctx:this.animateCtx}),this.resize()}},{key:"resize",value:function(){var t=this,e=this.getCanvasSize(this.gridCanvas),n=e.width,a=e.height;this.keyList.forEach((function(e){t["".concat(e,"Canvas")].width=n,t["".concat(e,"Canvas")].height=a,t[e].init({width:n,height:a})})),this.grid.draw(this.gridPoints),this.light.draw(this.source)}},{key:"getCanvasSize",value:function(t){var e=window.getComputedStyle(t),n=~~e.width.split("px")[0],a=~~e.height.split("px")[0];return{width:n,height:a}}},{key:"loop",value:function(){this.drawAnimate(),this.light.draw(this.source),this._unReqed||(this.reqId=requestAnimationFrame(this.loop.bind(this)))}},{key:"drawAnimate",value:function(){this.activePoint&&this.activePoint.activeColor&&(this._pct1+=.025,this._pct2+=.0125,this._pct1>=2.5&&(this._pct1=1),this._pct2>=2.5&&(this._pct2=1),this.animate.drawScale(this.activePoint.pos,[this._pct1,this._pct2],this.activePoint.activeColor))}},{key:"mousemove",value:function(t){this.source={x:t.offsetX,y:t.offsetY}}},{key:"mouseleave",value:function(){this.source={x:this.maxX,y:0}}},{key:"clickPoint",value:function(t){this.activePoint=t,this._pct1=this._pct2=1,this.$emit("onClickPoint",t)}},{key:"addListener",value:function(){var t=this;this.animateCanvas.addEventListener("mousemove",this.mousemove),this.animateCanvas.addEventListener("mouseleave",this.mouseleave),this.animateCanvas.addEventListener("click",(function(){var e=t.light.getLightCenterPoint();e&&e.activeColor&&t.clickPoint(e)}))}},{key:"removeListener",value:function(){this.animateCanvas.removeEventListener("mousemove",this.mousemove),this.animateCanvas.removeEventListener("mouseleave",this.mousemove),this._unReqed=!0}},{key:"initHexagonPoints",value:function(){var t=this;this.mapPoints=p["default"].map((function(e,n){return new v["default"]({pos:e,color:t.mapColor,hoverColor:t.mapHoverColor,id:n})})),this.gridPoints=b["gridPointIndex"].map((function(e){var n=t.mapPoints[e];return n.color=t.gridColor,n.hoverColor=t.gridHoverColor,n}))}},{key:"setGridPoints",value:function(t,e){var n=this,r=Object(g["n"])(b["leftActiveIndex"]),o=Object(g["n"])(b["rightActiveIndex"]),s={},c=e.map((function(t,e){var n=e%2,a=[r,o][n];s[n]||(s[n]=0);var c=a[s[n]];return s[n]++,Object(i["a"])(Object(i["a"])({},t),{},{_index:c})}));t.forEach((function(t,e){var a=b["gridPointIndex"][e],i=n.mapPoints[a];i.data=t}));var u=null;c.forEach((function(t){var e=t._index,i=Object(a["a"])(t,["_index"]),r=n.mapPoints[e];r.data=i,u||(u=r),u=r.data.value>u.data.value?r:u,n.getPointColor(r)})),this.clickPoint(u),this.resize()}},{key:"getPointColor",value:function(t){var e=Math.min(t.data.value/n.colorHightList.length|0,n.colorHightList.length-1);this._color||(this._color={}),this._color[e]||(this._color[e]=0);var a=[n.colorHightHoverList,n.colorLowerHoverList],i=[n.colorHightList,n.colorLowerList],r=this._color[e]%2;t.color=i[r][e],t.hoverColor=a[r][e],t.activeColor=n.colorActiveList[e],this._color[e]++}}]),n}(m["default"]);Object(l["a"])(y,"colorHightList",[[42,113,255,1],[254,212,98,1],[255,52,73,1]]),Object(l["a"])(y,"colorHightHoverList",[[111,159,255,1],[255,186,0,1],[255,0,0,1]]),Object(l["a"])(y,"colorLowerList",[[50,58,157,1],[167,142,91,1],[111,49,99,1]]),Object(l["a"])(y,"colorLowerHoverList",[[98,107,217,1],[254,212,98,1],[212,109,149,1]]),Object(l["a"])(y,"colorActiveList",[[42,113,255,1],[254,212,98,1],[255,52,73,1]])},d852:function(t,e,n){},e3c1:function(t,e,n){"use strict";n("9509")},e8d1:function(t,e,n){}}]);