(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7140eeac"],{"05ad":function(t,e,a){"use strict";a("c24a")},"06fe":function(t,e,a){},"077d":function(t,e,a){},"171e":function(t,e,a){},"20b9":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("ChartBox",{attrs:{title:t.infoTitle,moreFlag:!1,rank:t.rank,color:"#F9D22B"}},[a("div",{attrs:{slot:"rank"},slot:"rank"}),a("div",{directives:[{name:"g-loading",rawName:"v-g-loading",value:t.loading,expression:"loading"}],staticClass:"g-relative",attrs:{"g-loading-background":"white","g-loading-text-color":"#303133"}},[a("EchartColumn",{ref:"columnCharts",attrs:{height:320,title:"",bgcolor:"white",xdata:t.xdata,data:t.data,options:t.options}})],1)])],1)},i=[],r=(a("99af"),a("c740"),a("d81d"),a("a9e3"),a("96cf"),a("1da1")),s=a("5530"),o=a("2abf"),c=a("33c3"),l=a("8943"),u=a("1c31"),d=a("a741"),p={mixins:[d["a"]],props:{infoTitle:{type:String},companyInfo:{type:Object},scoreTypeId:{type:Number}},components:{ChartBox:o["a"],EchartColumn:l["a"]},data:function(){return{loading:!1,title:"",xdata:[],data:[],options:{},rank:1}},created:function(){this._initUIView()},methods:{queryTap:function(){var t={type:"industry",unipo:this.companyInfo.unipo,scoreType:this.scoreTypeId,companyId:this.companyInfo.companyId,industryCode:this.companyInfo.industryCode};this._params=t;var e=this.mixinReqOneTime(),a=this.mixinReqBiOneTime(),n=Object(s["a"])(Object(s["a"])(Object(s["a"])({},a),t),{},{companyId:t.unipo?t.companyId:null,industryCode:t.industryCode,dateType:e.dateType});this._apiGetScoreModelRank(n)},formatResdata:function(t){var e=this._params.companyId;9===this._params.scoreType&&(e=this._params.industryCode);var a=t.findIndex((function(t){return t.companyId===Number(e)})),n=t.map((function(t){return t.companyName})),i=t.map((function(t){var a=t.score;return{value:a,item:t,itemStyle:{color:t.companyId===e?"#F9D22B":"#409EFF"}}})),r=t[a];this.rank=r.industryRank,this.xdata=n;var s=parseInt(180/t.length)>=20?20:parseInt(180/t.length),o=s<3?3:s;this.data=[{name:"",type:"bar",data:i,barWidth:o,color:"#0F9FFD",itemStyle:{normal:{}},markPoint:Object(c["f"])({name:"本行业",value:"".concat(n[a],"：第").concat(this.rank,"名"),index:a,yAxis:r.score})}]},_initUIView:function(){this._initOptions(),this.queryTap()},_initOptions:function(){var t=JSON.parse(JSON.stringify(c["d"]));t[0].left=20,t[0].right=20,this.options={grid:{left:30,right:40},backgroundColor:"transparent",dataZoom:t,yAxis:{name:"分数",nameTextStyle:{color:"rgba(0, 0, 0, .65)"},min:0,max:100,axisLine:{show:!0,lineStyle:{color:"rgba(0, 0, 0, 0.25)"}},axisLabel:{color:"rgba(0, 0, 0, .65)"}},xAxis:{nameTextStyle:{color:"rgba(0, 0, 0, .65)"},axisLine:{show:!0,lineStyle:{color:"rgba(0, 0, 0, 0.25)"}},axisLabel:{color:"rgba(0, 0, 0, .65)",formatter:function(t){return t.length>4?"".concat(t.substring(0,4),"..."):t}}}}},_apiGetScoreModelRank:function(t){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){var n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,e.loading=!0,a.next=4,Object(u["v"])(t);case 4:n=a.sent,e.formatResdata(n),a.next=10;break;case 8:a.prev=8,a.t0=a["catch"](0);case 10:e.loading=!1;case 11:case"end":return a.stop()}}),a,null,[[0,8]])})))()}}},f=p,h=(a("660e"),a("2877")),m=Object(h["a"])(f,n,i,!1,null,"f270f752",null);e["a"]=m.exports},"2abf":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"chart-box"},[a("div",{staticClass:"box-title"},[t._v(" "+t._s(t.title)+" "),t.$slots.rank?a("span",{staticClass:"label-rank",style:{"background-color":t.color}},[t._v("第"+t._s(t.rank)+"名")]):t._e()]),a("div",{staticClass:"box-content"},[t._t("default")],2),t.moreFlag?a("moreBtn",{on:{moreTap:t.moreTap}}):t._e()],1)},i=[],r=(a("a9e3"),a("9d27")),s={components:{moreBtn:r["a"]},props:{title:{type:String,default:""},color:{type:String},moreFlag:{type:Boolean,default:!0},rank:{type:Number,default:1}},data:function(){return{}},methods:{moreTap:function(){this.$emit("moreTap")}}},o=s,c=(a("2df5"),a("2877")),l=Object(c["a"])(o,n,i,!1,null,"6e61fbc8",null);e["a"]=l.exports},"2c98":function(t,e,a){},"2df5":function(t,e,a){"use strict";a("06fe")},3501:function(t,e,a){"use strict";var n=a("c598");e["a"]={props:{companyInfo:{type:Object,default:function(){return{}}}},created:function(){this.mixinRereshTap()},methods:{mixinRereshTap:function(){this.companyInfo.companyId&&this.queryTap&&this.queryTap()},mixinMoreTap:function(){n["a"].$emit("showReport",this.reportData)}}}},"3ca5":function(t,e,a){"use strict";e["a"]={props:{companyInfo:{type:Object,default:function(){return{}}},scoreData:{type:Object,default:function(){return{}}}}}},"660e":function(t,e,a){"use strict";a("171e")},"73fb":function(t,e,a){"use strict";a("077d")},"7f89":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"legend-box",staticStyle:{color:"white"}},[t.name1?a("div",{staticClass:"legend-item"},[a("div",{staticClass:"line line1"}),a("div",{staticClass:"t"},[t._v(t._s(t.name1))])]):t._e(),t.name2?a("div",{staticClass:"legend-item"},[a("div",{staticClass:"line line2"}),a("div",{staticClass:"t"},[t._v(t._s(t.name2))])]):t._e(),t.name3?a("div",{staticClass:"legend-item"},[a("div",{staticClass:"line line3"}),a("div",{staticClass:"t"},[t._v(t._s(t.name3))])]):t._e()])},i=[],r={props:{name1:{type:String,default:"四个维度风险概率"},name2:{type:String,default:"行业平均"},name3:{type:String,default:""}}},s=r,o=(a("8d29"),a("2877")),c=Object(o["a"])(s,n,i,!1,null,"0d68fcb1",null);e["a"]=c.exports},8905:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"star-card",class:["level-"+t.trueLevel],on:{click:t.rankTap}},[a("div",{staticClass:"scorce-box"},[a("div",{staticClass:"title"},[t._v(t._s(t.typeText))]),a("div",{staticClass:"text"},[t._v(t._s(t.score)+"分")])]),a("div",{staticClass:"scorce-info"},[a("div",{staticClass:"text-l"},[a("span",{staticClass:"t"},[t._v("AI发现，该公司综合评估的")]),a("span",{staticClass:"detail",class:["detail-"+t.trueLevel]},[t._v(t._s(t.levelList[+t.level-1]))]),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"点击可查询排行详情",placement:"top"}},[a("div",{staticClass:"industry-line"},[t._v(" "+t._s(t.rankTxt)+" "),a("span",{staticClass:"rank"},[t._v(t._s(t.industryRank))]),t._v(" 名 "),a("i",{staticClass:"arrow-right"})])])],1)])])},i=[],r=(a("a9e3"),a("c598")),s={components:{},props:{typeText:{type:String,default:"对标行业"},rankTxt:{type:String,default:""},industryRank:{type:[Number,String],default:null},score:{type:Number,default:20},sort:{type:Boolean,default:!1},level:{type:String,default:"1"},levelList:{type:Array,default:function(){return["a1","a2","a3","a4","a5"]}}},data:function(){return{}},computed:{progressStyle:function(){var t=Math.min(this.score,100);return{width:t+"%"}},tagStyle:function(){var t=Math.min(this.score,100);return{left:t+"%"}},trueLevel:function(){return this.sort?7-this.level:this.level}},methods:{moreTap:function(){r["a"].$emit("showReport",{component:"ImproveSuggest"})},rankTap:function(){this.$emit("rankTap")}}},o=s,c=(a("73fb"),a("2877")),l=Object(c["a"])(o,n,i,!1,null,"6df05423",null);e["a"]=l.exports},"8d29":function(t,e,a){"use strict";a("e22f")},"9d27":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"box-footer",on:{click:t.moreTap}},[a("span",[t._v(t._s(t.txt))]),a("i",{staticClass:"arrow-right"})])},i=[],r={props:{txt:{type:String,default:"了解更多"}},data:function(){return{}},methods:{moreTap:function(){this.$emit("moreTap")}}},s=r,o=(a("05ad"),a("2877")),c=Object(o["a"])(s,n,i,!1,null,"59d2d0dd",null);e["a"]=c.exports},c24a:function(t,e,a){},e098:function(t,e,a){"use strict";a("2c98")},e22f:function(t,e,a){},f870:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{ref:"chart",style:t.boxStyle}),t.layer?a("div",[a("g-follow-layer",{ref:"layer",staticClass:"g-layer",attrs:{width:250,height:1,bgColor:"pink",handComputed:t.handComputed}},[a("div",{staticClass:"radar-layer"},[a("p",{staticClass:"para-t"},[t._v(" "+t._s(t.layerData[t.name])+" ")])])])],1):t._e()])},i=[],r=(a("b0c0"),a("a9e3"),a("c598")),s=a("33c3"),o=a("164e"),c={props:{title:{type:String,default:""},data:{type:Array,default:function(){return[]}},xdata:{type:Array,default:function(){return[]}},height:{type:[Number,String],default:320},options:{type:Object,default:function(){return null}},layer:{type:Boolean,default:!1},layerData:{type:Object,default:function(){return null}}},data:function(){return{name:""}},computed:{boxStyle:function(){return{height:this.height+"px",margin:"0 auto"}}},mounted:function(){var t=this;window.addEventListener("resize",(function(){t.chart.resize()}),!1),this.listentHideLayer()},methods:{listentHideLayer:function(){var t=this;this.layer&&r["a"].$on("hideRadarLayer",(function(){if(t.layerShow){var e=t.$refs.layer;e&&e.hide(),t.layerShow=!1}}))},handComputed:function(t){var e=this.layerData[this.name].length,a=24*Math.ceil(e/18)+30,n=t.x-t.width,i=t.y+15;return+this.height-t.offsetY<80&&(i=t.y-a-t.height-15),{top:i,left:n}},_initCanvas:function(){var t=this;this.$nextTick((function(){t._initChart()}))},_initChart:function(){var t=this;if(!this.chart){var e=this.$refs.chart;if(!e)return;this.chart=o["init"](e)}var a={title:{text:this.title},legend:{show:!1},tooltip:{trigger:"item",backgroundColor:"rgba(0,0,0,0.85)",textStyle:{color:"white"},transitionDuration:0,position:this.$tipPosition(0,["left","top"],[0,0]),extraCssText:"box-shadow: 0 0 3px rgba(0, 0, 0, 0.3);",borderColor:"rgba(0,0,0,0.85)",axisPointer:{type:"shadow",shadowStyle:{color:"rgba(150,150,150,0.1)"}}},radar:{center:["50%","50%"],shape:"circle",name:{color:"#313131"},nameGap:10,splitLine:{lineStyle:{color:"rgba(198, 198, 198, 0.2)"}},axisLine:{lineStyle:{color:"rgba(198, 198, 198, 0.2)"}},splitArea:{show:!0,areaStyle:{color:["rgba(216, 216, 216, 0.18)"]}},radius:"80%",indicator:this.xdata,triggerEvent:!0},series:this.data};this.options&&(a=Object(s["m"])(this.options,a)),this.chart.setOption(a),this.layer&&(this.chart.on("mouseover",(function(e){if("axisName"===e.targetType){t.name=e.name;var a=e.event.event,n=e.event.target._rect;t.$refs.layer.show({x:a.clientX,y:a.clientY,offsetX:a.layerX,offsetY:a.layerY,width:n.width,height:n.height,name:t.name}),t.layerShow=!0}})),this.chart.on("mouseout",(function(e){"axisName"===e.targetType&&(t.$refs.layer.hide(),t.layerShow=!1)})))}},beforeDestroy:function(){this.layer&&r["a"].$off("hideRadarLayer")},watch:{data:{deep:!0,immediate:!0,handler:function(){this._initCanvas()}}}},l=c,u=(a("e098"),a("2877")),d=Object(u["a"])(l,n,i,!1,null,"731c6749",null);e["a"]=d.exports}}]);